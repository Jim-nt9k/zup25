<?xml version="1.0" encoding="UTF-8"?>
<DataCompositionSchema xmlns="http://v8.1c.ru/8.1/data-composition-system/schema" xmlns:dcscom="http://v8.1c.ru/8.1/data-composition-system/common" xmlns:dcscor="http://v8.1c.ru/8.1/data-composition-system/core" xmlns:dcsset="http://v8.1c.ru/8.1/data-composition-system/settings" xmlns:v8="http://v8.1c.ru/8.1/data/core" xmlns:v8ui="http://v8.1c.ru/8.1/data/ui" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<dataSource>
		<name>ИнформационнаяБаза</name>
		<dataSourceType>Local</dataSourceType>
	</dataSource>
	<dataSet xsi:type="DataSetQuery">
		<name>РаботникиОрганизации</name>
		<field xsi:type="DataSetFieldField">
			<dataPath>Организация</dataPath>
			<field>Организация</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Организация</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПериодРегистрации</dataPath>
			<field>ПериодРегистрации</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Месяц начисления</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПодразделениеОрганизации</dataPath>
			<field>ПодразделениеОрганизации</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Подразделение организации</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Физлицо</dataPath>
			<field>Физлицо</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Физлицо</v8:content>
				</v8:item>
			</title>
			<useRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</useRestriction>
			<attributeUseRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</attributeUseRestriction>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Сотрудник</dataPath>
			<field>Сотрудник</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Работник</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Должность</dataPath>
			<field>Должность</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Должность</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ГоловнаяОрганизация</dataPath>
			<field>ГоловнаяОрганизация</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Головная организация</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ТабельныйНомерКонец</dataPath>
			<field>ТабельныйНомерКонец</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Табельный номер по</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ТабельныйНомерНачало</dataPath>
			<field>ТабельныйНомерНачало</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Табельный номер с</v8:content>
				</v8:item>
			</title>
		</field>
		<dataSource>ИнформационнаяБаза</dataSource>
		<query>ВЫБРАТЬ
	ПоследниеДаты.ПериодРегистрации КАК ПериодРегистрации,
	РаботникиОрганизаций.Сотрудник КАК Сотрудник,
	ВЫБОР
		КОГДА РаботникиОрганизаций.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ПоследниеДаты.ПериодРегистрации, МЕСЯЦ)
				И РаботникиОрганизаций.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
			ТОГДА РаботникиОрганизаций.ОбособленноеПодразделениеЗавершения
		ИНАЧЕ РаботникиОрганизаций.ОбособленноеПодразделение
	КОНЕЦ КАК Организация,
	РаботникиОрганизаций.Сотрудник.Физлицо КАК Физлицо,
	ВЫБОР
		КОГДА РаботникиОрганизаций.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ПоследниеДаты.ПериодРегистрации, МЕСЯЦ)
				И РаботникиОрганизаций.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
			ТОГДА ВЫБОР
					КОГДА РаботникиОрганизаций.ПодразделениеОрганизацииЗавершения = ЗНАЧЕНИЕ(Справочник.ПодразделенияОрганизаций.пустаяСсылка)
						ТОГДА 1
					ИНАЧЕ ЕСТЬNULL(РаботникиОрганизаций.ПодразделениеОрганизацииЗавершения, 1)
				КОНЕЦ
		ИНАЧЕ ВЫБОР
				КОГДА РаботникиОрганизаций.ПодразделениеОрганизации = ЗНАЧЕНИЕ(Справочник.ПодразделенияОрганизаций.пустаяСсылка)
					ТОГДА 1
				ИНАЧЕ ЕСТЬNULL(РаботникиОрганизаций.ПодразделениеОрганизации, 1)
			КОНЕЦ
	КОНЕЦ КАК ПодразделениеОрганизации,
	ВЫБОР
		КОГДА РаботникиОрганизаций.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ПоследниеДаты.ПериодРегистрации, МЕСЯЦ)
				И РаботникиОрганизаций.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
			ТОГДА РаботникиОрганизаций.ДолжностьЗавершения
		ИНАЧЕ РаботникиОрганизаций.Должность
	КОНЕЦ КАК Должность,
	РаботникиОрганизаций.Организация КАК ГоловнаяОрганизация,
	РаботникиОрганизаций.Сотрудник.Код КАК ТабельныйНомерНачало,
	РаботникиОрганизаций.Сотрудник.Код КАК ТабельныйНомерКонец
{ВЫБРАТЬ
	ПериодРегистрации,
	Сотрудник.*,
	Организация.*,
	Физлицо.*,
	ПодразделениеОрганизации.*,
	Должность.*,
	ГоловнаяОрганизация.*,
	ТабельныйНомерНачало КАК ТабельныйНомерНачало,
	ТабельныйНомерКонец КАК ТабельныйНомерКонец}
ИЗ
	(ВЫБРАТЬ
		ДатыПоследнихДвижений.ПериодРегистрации КАК ПериодРегистрации,
		ДатыПоследнихДвижений.Период КАК Период,
		РаботникиОрганизаций.Сотрудник.Физлицо КАК Физлицо,
		РаботникиОрганизаций.Организация КАК Организация,
		КОЛИЧЕСТВО(РаботникиОрганизаций.Период) КАК КолВоДвижений
	ИЗ
		(ВЫБРАТЬ
			Периоды.Период КАК ПериодРегистрации,
			МАКСИМУМ(РаботникиОрганизаций.Период) КАК Период,
			РаботникиОрганизаций.Сотрудник.Физлицо КАК Физлицо,
			РаботникиОрганизаций.Организация КАК Организация,
			МАКСИМУМ(Договора.ДатаНачала) КАК ДатаНачала
		ИЗ
			(ВЫБРАТЬ РАЗЛИЧНЫЕ
				НАЧАЛОПЕРИОДА(РегламентированныйПроизводственныйКалендарь.ДатаКалендаря, МЕСЯЦ) КАК Период
			ИЗ
				РегистрСведений.РегламентированныйПроизводственныйКалендарь КАК РегламентированныйПроизводственныйКалендарь
			ГДЕ
				РегламентированныйПроизводственныйКалендарь.ДатаКалендаря МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода) КАК Периоды
				ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
				ПО (РаботникиОрганизаций.Период &lt;= КОНЕЦПЕРИОДА(Периоды.Период, МЕСЯЦ))
				ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
					ДоговорНаВыполнениеРаботСФизЛицом.ФизЛицо КАК Физлицо,
					ДоговорНаВыполнениеРаботСФизЛицом.Организация КАК Организация,
					ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала КАК ДатаНачала,
					ДоговорНаВыполнениеРаботСФизЛицом.ДатаОкончания КАК ДатаОкончания
				ИЗ
					Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
				ГДЕ
					ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала &lt;= &amp;КонецПериода
					И ДоговорНаВыполнениеРаботСФизЛицом.ДатаОкончания &gt;= &amp;НачалоПериода
					И ДоговорНаВыполнениеРаботСФизЛицом.Проведен
				{ГДЕ
					ДоговорНаВыполнениеРаботСФизЛицом.ФизЛицо.*,
					ДоговорНаВыполнениеРаботСФизЛицом.Организация.*,
					ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник.*}) КАК Договора
				ПО Периоды.Период &lt;= Договора.ДатаОкончания
					И (ВЫБОР
						КОГДА Договора.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
							ТОГДА Договора.Организация
						ИНАЧЕ Договора.Организация.ГоловнаяОрганизация
					КОНЕЦ = РаботникиОрганизаций.Организация)
					И (Договора.Физлицо = РаботникиОрганизаций.Сотрудник.Физлицо)
		ГДЕ
			РаботникиОрганизаций.Сотрудник.ВидЗанятости &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ВидыЗанятостиВОрганизации.ВнутреннееСовместительство)
		{ГДЕ
			РаботникиОрганизаций.Сотрудник.*,
			РаботникиОрганизаций.Сотрудник.Физлицо.* КАК Физлицо}
		
		СГРУППИРОВАТЬ ПО
			Периоды.Период,
			РаботникиОрганизаций.Сотрудник.Физлицо,
			РаботникиОрганизаций.Организация
		
		ОБЪЕДИНИТЬ ВСЕ
		
		ВЫБРАТЬ
			ВложенныйЗапрос.ПериодРегистрации,
			РаботникиОрганизацийСрезПоследних.Период,
			ВложенныйЗапрос.СотрудникФизлицо,
			ВложенныйЗапрос.Организация,
			ВложенныйЗапрос.ДатаНачала
		ИЗ
			(ВЫБРАТЬ
				Периоды.Период КАК ПериодРегистрации,
				МАКСИМУМ(РаботникиОрганизаций.Период) КАК Период,
				РаботникиОрганизаций.Сотрудник.Физлицо КАК СотрудникФизлицо,
				РаботникиОрганизаций.Организация КАК Организация,
				МАКСИМУМ(Договора.ДатаНачала) КАК ДатаНачала,
				РаботникиОрганизаций.ПодразделениеОрганизации КАК ПодразделениеОрганизации
			ИЗ
				(ВЫБРАТЬ РАЗЛИЧНЫЕ
					НАЧАЛОПЕРИОДА(РегламентированныйПроизводственныйКалендарь.ДатаКалендаря, МЕСЯЦ) КАК Период
				ИЗ
					РегистрСведений.РегламентированныйПроизводственныйКалендарь КАК РегламентированныйПроизводственныйКалендарь
				ГДЕ
					РегламентированныйПроизводственныйКалендарь.ДатаКалендаря МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода) КАК Периоды
					ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
					ПО (РаботникиОрганизаций.Период &lt;= КОНЕЦПЕРИОДА(Периоды.Период, МЕСЯЦ))
					ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
						ДоговорНаВыполнениеРаботСФизЛицом.ФизЛицо КАК Физлицо,
						ДоговорНаВыполнениеРаботСФизЛицом.Организация КАК Организация,
						ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала КАК ДатаНачала,
						ДоговорНаВыполнениеРаботСФизЛицом.ДатаОкончания КАК ДатаОкончания
					ИЗ
						Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
					ГДЕ
						ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала &lt;= &amp;КонецПериода
						И ДоговорНаВыполнениеРаботСФизЛицом.ДатаОкончания &gt;= &amp;НачалоПериода
						И ДоговорНаВыполнениеРаботСФизЛицом.Проведен
					{ГДЕ
						ДоговорНаВыполнениеРаботСФизЛицом.ФизЛицо.*,
						ДоговорНаВыполнениеРаботСФизЛицом.Организация.*,
						ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник.*}) КАК Договора
					ПО Периоды.Период &lt;= Договора.ДатаОкончания
						И (ВЫБОР
							КОГДА Договора.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
								ТОГДА Договора.Организация
							ИНАЧЕ Договора.Организация.ГоловнаяОрганизация
						КОНЕЦ = РаботникиОрганизаций.Организация)
						И (Договора.Физлицо = РаботникиОрганизаций.Сотрудник.Физлицо)
			ГДЕ
				РаботникиОрганизаций.Сотрудник.ВидЗанятости &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ВидыЗанятостиВОрганизации.ВнутреннееСовместительство)
				И РаботникиОрганизаций.Период МЕЖДУ ДОБАВИТЬКДАТЕ(&amp;НачалоПериода, ДЕНЬ, 1) И &amp;КонецПериода
			{ГДЕ
				РаботникиОрганизаций.Сотрудник.*,
				РаботникиОрганизаций.Сотрудник.Физлицо.* КАК Физлицо}
			
			СГРУППИРОВАТЬ ПО
				Периоды.Период,
				РаботникиОрганизаций.Сотрудник.Физлицо,
				РаботникиОрганизаций.Организация,
				РаботникиОрганизаций.ПодразделениеОрганизации) КАК ВложенныйЗапрос
				ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;НачалоПериода, ) КАК РаботникиОрганизацийСрезПоследних
				ПО ВложенныйЗапрос.СотрудникФизлицо = РаботникиОрганизацийСрезПоследних.Сотрудник.Физлицо
					И ВложенныйЗапрос.ПодразделениеОрганизации &lt;&gt; РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации) КАК ДатыПоследнихДвижений
			ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
			ПО ДатыПоследнихДвижений.Период = РаботникиОрганизаций.Период
				И ДатыПоследнихДвижений.Физлицо = РаботникиОрганизаций.Сотрудник.Физлицо
				И ДатыПоследнихДвижений.Организация = РаботникиОрганизаций.Организация
	ГДЕ
		РаботникиОрганизаций.Сотрудник.ВидЗанятости &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ВидыЗанятостиВОрганизации.ВнутреннееСовместительство)
	{ГДЕ
		РаботникиОрганизаций.Сотрудник.*,
		РаботникиОрганизаций.Сотрудник.Физлицо.* КАК Физлицо}
	
	СГРУППИРОВАТЬ ПО
		ДатыПоследнихДвижений.ПериодРегистрации,
		РаботникиОрганизаций.Сотрудник.Физлицо,
		РаботникиОрганизаций.Организация,
		ДатыПоследнихДвижений.Период) КАК ПоследниеДаты
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
		ПО ПоследниеДаты.Физлицо = РаботникиОрганизаций.Сотрудник.Физлицо
			И ПоследниеДаты.Организация = РаботникиОрганизаций.Организация
			И ПоследниеДаты.Период = РаботникиОрганизаций.Период
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
		ПО ПоследниеДаты.Физлицо = ДоговорНаВыполнениеРаботСФизЛицом.ФизЛицо
			И (ПоследниеДаты.Организация = ВЫБОР
				КОГДА ДоговорНаВыполнениеРаботСФизЛицом.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
					ТОГДА ДоговорНаВыполнениеРаботСФизЛицом.Организация
				ИНАЧЕ ДоговорНаВыполнениеРаботСФизЛицом.Организация.ГоловнаяОрганизация
			КОНЕЦ)
		ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
			Периоды.Период КАК ПериодРегистрации,
			Сальдо.Физлицо КАК Физлицо,
			Сальдо.Организация КАК Организация
		ИЗ
			(ВЫБРАТЬ РАЗЛИЧНЫЕ
				НАЧАЛОПЕРИОДА(РегламентированныйПроизводственныйКалендарь.ДатаКалендаря, МЕСЯЦ) КАК Период
			ИЗ
				РегистрСведений.РегламентированныйПроизводственныйКалендарь КАК РегламентированныйПроизводственныйКалендарь
			ГДЕ
				РегламентированныйПроизводственныйКалендарь.ДатаКалендаря МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода) КАК Периоды
				ВНУТРЕННЕЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
					ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты.Организация КАК Организация,
					ДОБАВИТЬКДАТЕ(&amp;НачалоПериода, ДЕНЬ, -1) КАК Период,
					ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты.Физлицо КАК Физлицо,
					ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты.СуммаВзаиморасчетовОстаток КАК Сумма
				ИЗ
					РегистрНакопления.ВзаиморасчетыСРаботникамиОрганизаций.Остатки(&amp;НачалоПериода, ) КАК ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты
				
				ОБЪЕДИНИТЬ ВСЕ
				
				ВЫБРАТЬ РАЗЛИЧНЫЕ
					ВзаиморасчетыСРаботникамиОрганизаций.Организация,
					НАЧАЛОПЕРИОДА(ВзаиморасчетыСРаботникамиОрганизаций.Период, МЕСЯЦ),
					ВзаиморасчетыСРаботникамиОрганизаций.Физлицо,
					1
				ИЗ
					РегистрНакопления.ВзаиморасчетыСРаботникамиОрганизаций КАК ВзаиморасчетыСРаботникамиОрганизаций
				ГДЕ
					ВзаиморасчетыСРаботникамиОрганизаций.Период МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
				
				ОБЪЕДИНИТЬ ВСЕ
				
				ВЫБРАТЬ
					НДФЛКЗачету.Организация,
					ДОБАВИТЬКДАТЕ(&amp;НачалоПериода, ДЕНЬ, -1),
					НДФЛКЗачету.ФизЛицо,
					НДФЛКЗачету.СуммаНДФЛКЗачетуОстаток
				ИЗ
					РегистрНакопления.НДФЛКЗачету.Остатки(&amp;НачалоПериода, ) КАК НДФЛКЗачету
				
				ОБЪЕДИНИТЬ ВСЕ
				
				ВЫБРАТЬ РАЗЛИЧНЫЕ
					НДФЛКЗачету.Организация,
					&amp;НачалоПериода,
					НДФЛКЗачету.ФизЛицо,
					1
				ИЗ
					РегистрНакопления.НДФЛКЗачету КАК НДФЛКЗачету
				ГДЕ
					НДФЛКЗачету.Период МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода) КАК Сальдо
				ПО (Сальдо.Период &lt;= Периоды.Период)
		
		СГРУППИРОВАТЬ ПО
			Периоды.Период,
			Сальдо.Физлицо,
			Сальдо.Организация
		
		ИМЕЮЩИЕ
			(СУММА(ВЫБОР
						КОГДА Сальдо.Период &lt; Периоды.Период
							ТОГДА Сальдо.Сумма
						ИНАЧЕ 0
					КОНЕЦ) &lt;&gt; 0
				ИЛИ СУММА(ВЫБОР
						КОГДА Сальдо.Период &lt;= Периоды.Период
							ТОГДА Сальдо.Сумма
						ИНАЧЕ 0
					КОНЕЦ) &lt;&gt; 0
				ИЛИ СУММА(ВЫБОР
						КОГДА Сальдо.Период = Периоды.Период
							ТОГДА Сальдо.Сумма
						ИНАЧЕ 0
					КОНЕЦ) &lt;&gt; 0)) КАК Оcтаток
		ПО (ПоследниеДаты.Организация = ВЫБОР
				КОГДА Оcтаток.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
					ТОГДА Оcтаток.Организация
				ИНАЧЕ Оcтаток.Организация.ГоловнаяОрганизация
			КОНЕЦ)
			И ПоследниеДаты.ПериодРегистрации = Оcтаток.ПериодРегистрации
			И ПоследниеДаты.Физлицо = Оcтаток.Физлицо
ГДЕ
	РаботникиОрганизаций.Сотрудник.ВидЗанятости &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ВидыЗанятостиВОрганизации.ВнутреннееСовместительство)
	И (ПоследниеДаты.КолВоДвижений = 2
				И РаботникиОрганизаций.ПричинаИзмененияСостояния &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ПричиныИзмененияСостояния.Увольнение)
			ИЛИ ПоследниеДаты.КолВоДвижений = 1)
	И ВЫБОР
			КОГДА РаботникиОрганизаций.ПричинаИзмененияСостояния = ЗНАЧЕНИЕ(Перечисление.ПричиныИзмененияСостояния.Увольнение)
					И РаботникиОрганизаций.Период &lt;= ПоследниеДаты.ПериодРегистрации
					И НЕ ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник ЕСТЬ NULL 
				ТОГДА ЛОЖЬ
			КОГДА РаботникиОрганизаций.ПричинаИзмененияСостоянияЗавершения = ЗНАЧЕНИЕ(Перечисление.ПричиныИзмененияСостояния.Увольнение)
					И РаботникиОрганизаций.ПериодЗавершения &lt;= ПоследниеДаты.ПериодРегистрации
					И НЕ ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник ЕСТЬ NULL 
				ТОГДА ЛОЖЬ
			ИНАЧЕ ИСТИНА
		КОНЕЦ
{ГДЕ
	РаботникиОрганизаций.Сотрудник.*,
	РаботникиОрганизаций.Сотрудник.Физлицо.* КАК Физлицо,
	(ВЫБОР
			КОГДА РаботникиОрганизаций.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ПоследниеДаты.ПериодРегистрации, МЕСЯЦ)
					И РаботникиОрганизаций.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
				ТОГДА РаботникиОрганизаций.ОбособленноеПодразделениеЗавершения
			ИНАЧЕ РаботникиОрганизаций.ОбособленноеПодразделение
		КОНЕЦ).* КАК Организация,
	(ВЫБОР
			КОГДА РаботникиОрганизаций.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ПоследниеДаты.ПериодРегистрации, МЕСЯЦ)
					И РаботникиОрганизаций.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
				ТОГДА РаботникиОрганизаций.ПодразделениеОрганизацииЗавершения
			ИНАЧЕ РаботникиОрганизаций.ПодразделениеОрганизации
		КОНЕЦ).* КАК ПодразделениеОрганизации,
	(ВЫБОР
			КОГДА РаботникиОрганизаций.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ПоследниеДаты.ПериодРегистрации, МЕСЯЦ)
					И РаботникиОрганизаций.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
				ТОГДА РаботникиОрганизаций.ДолжностьЗавершения
			ИНАЧЕ РаботникиОрганизаций.Должность
		КОНЕЦ).* КАК Должность,
	РаботникиОрганизаций.Организация.* КАК ГоловнаяОрганизация,
	РаботникиОрганизаций.Сотрудник.Код КАК ТабельныйНомерНачало,
	РаботникиОрганизаций.Сотрудник.Код КАК ТабельныйНомерКонец}

ОБЪЕДИНИТЬ

ВЫБРАТЬ
	ДатыПоследнихДоговоров.ПериодРегистрации,
	ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник,
	ДатыПоследнихДоговоров.Организация,
	ДатыПоследнихДоговоров.Физлицо,
	МАКСИМУМ(ВЫБОР
			КОГДА ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации = ЗНАЧЕНИЕ(Справочник.ПодразделенияОрганизаций.пустаяСсылка)
				ТОГДА 1
			ИНАЧЕ ЕСТЬNULL(ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации, 1)
		КОНЕЦ),
	ЗНАЧЕНИЕ(Справочник.ДолжностиОрганизаций.ПустаяСсылка),
	ВЫБОР
		КОГДА ДоговорНаВыполнениеРаботСФизЛицом.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
			ТОГДА ДоговорНаВыполнениеРаботСФизЛицом.Организация
		ИНАЧЕ ДоговорНаВыполнениеРаботСФизЛицом.Организация.ГоловнаяОрганизация
	КОНЕЦ,
	ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник.Код,
	ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник.Код
ИЗ
	(ВЫБРАТЬ
		Договора.Физлицо КАК Физлицо,
		Договора.Организация КАК Организация,
		МАКСИМУМ(Договора.ДатаНачала) КАК ДатаНачала,
		Периоды.Период КАК ПериодРегистрации,
		МАКСИМУМ(РаботникиОрганизаций.Период) КАК Период
	ИЗ
		(ВЫБРАТЬ РАЗЛИЧНЫЕ
			НАЧАЛОПЕРИОДА(РегламентированныйПроизводственныйКалендарь.ДатаКалендаря, МЕСЯЦ) КАК Период
		ИЗ
			РегистрСведений.РегламентированныйПроизводственныйКалендарь КАК РегламентированныйПроизводственныйКалендарь
		ГДЕ
			РегламентированныйПроизводственныйКалендарь.ДатаКалендаря МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода) КАК Периоды
			ВНУТРЕННЕЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
				ДоговорНаВыполнениеРаботСФизЛицом.ФизЛицо КАК Физлицо,
				ДоговорНаВыполнениеРаботСФизЛицом.Организация КАК Организация,
				ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала КАК ДатаНачала,
				ДоговорНаВыполнениеРаботСФизЛицом.ДатаОкончания КАК ДатаОкончания
			ИЗ
				Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
			ГДЕ
				ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала &lt;= &amp;КонецПериода
				И ДоговорНаВыполнениеРаботСФизЛицом.Проведен
			{ГДЕ
				ДоговорНаВыполнениеРаботСФизЛицом.ФизЛицо.*,
				ДоговорНаВыполнениеРаботСФизЛицом.Организация.*,
				ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник.*}) КАК Договора
			ПО (Договора.ДатаНачала &lt;= КОНЕЦПЕРИОДА(Периоды.Период, МЕСЯЦ))
			ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
			ПО (Договора.Физлицо = РаботникиОрганизаций.Сотрудник.Физлицо)
				И (ВЫБОР
					КОГДА Договора.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
						ТОГДА Договора.Организация
					ИНАЧЕ Договора.Организация.ГоловнаяОрганизация
				КОНЕЦ = РаботникиОрганизаций.Организация)
				И (КОНЕЦПЕРИОДА(Периоды.Период, МЕСЯЦ) &gt;= РаботникиОрганизаций.Период)
	
	СГРУППИРОВАТЬ ПО
		Договора.Физлицо,
		Договора.Организация,
		Периоды.Период) КАК ДатыПоследнихДоговоров
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
		ПО ДатыПоследнихДоговоров.Физлицо = ДоговорНаВыполнениеРаботСФизЛицом.ФизЛицо
			И ДатыПоследнихДоговоров.Организация = ДоговорНаВыполнениеРаботСФизЛицом.Организация
			И ДатыПоследнихДоговоров.ДатаНачала = ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала
			И (ДоговорНаВыполнениеРаботСФизЛицом.Проведен)
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
		ПО ДатыПоследнихДоговоров.Физлицо = РаботникиОрганизаций.Сотрудник.Физлицо
			И ДатыПоследнихДоговоров.Период = РаботникиОрганизаций.Период
			И (ВЫБОР
				КОГДА ДатыПоследнихДоговоров.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
					ТОГДА ДатыПоследнихДоговоров.Организация
				ИНАЧЕ ДатыПоследнихДоговоров.Организация.ГоловнаяОрганизация
			КОНЕЦ = РаботникиОрганизаций.Организация)
		ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
			Периоды.Период КАК ПериодРегистрации,
			Сальдо.Физлицо КАК Физлицо,
			Сальдо.Организация КАК Организация
		ИЗ
			(ВЫБРАТЬ РАЗЛИЧНЫЕ
				НАЧАЛОПЕРИОДА(РегламентированныйПроизводственныйКалендарь.ДатаКалендаря, МЕСЯЦ) КАК Период
			ИЗ
				РегистрСведений.РегламентированныйПроизводственныйКалендарь КАК РегламентированныйПроизводственныйКалендарь
			ГДЕ
				РегламентированныйПроизводственныйКалендарь.ДатаКалендаря МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода) КАК Периоды
				ВНУТРЕННЕЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
					ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты.Организация КАК Организация,
					ДОБАВИТЬКДАТЕ(&amp;НачалоПериода, ДЕНЬ, -1) КАК Период,
					ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты.Физлицо КАК Физлицо,
					ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты.СуммаВзаиморасчетовОстаток КАК Сумма
				ИЗ
					РегистрНакопления.ВзаиморасчетыСРаботникамиОрганизаций.Остатки(&amp;НачалоПериода, ) КАК ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты
				
				ОБЪЕДИНИТЬ ВСЕ
				
				ВЫБРАТЬ РАЗЛИЧНЫЕ
					ВзаиморасчетыСРаботникамиОрганизаций.Организация,
					НАЧАЛОПЕРИОДА(ВзаиморасчетыСРаботникамиОрганизаций.Период, МЕСЯЦ),
					ВзаиморасчетыСРаботникамиОрганизаций.Физлицо,
					1
				ИЗ
					РегистрНакопления.ВзаиморасчетыСРаботникамиОрганизаций КАК ВзаиморасчетыСРаботникамиОрганизаций
				ГДЕ
					ВзаиморасчетыСРаботникамиОрганизаций.Период МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
				
				ОБЪЕДИНИТЬ ВСЕ
				
				ВЫБРАТЬ
					НДФЛКЗачету.Организация,
					ДОБАВИТЬКДАТЕ(&amp;НачалоПериода, ДЕНЬ, -1),
					НДФЛКЗачету.ФизЛицо,
					НДФЛКЗачету.СуммаНДФЛКЗачетуОстаток
				ИЗ
					РегистрНакопления.НДФЛКЗачету.Остатки(&amp;НачалоПериода, ) КАК НДФЛКЗачету
				
				ОБЪЕДИНИТЬ ВСЕ
				
				ВЫБРАТЬ РАЗЛИЧНЫЕ
					НДФЛКЗачету.Организация,
					&amp;НачалоПериода,
					НДФЛКЗачету.ФизЛицо,
					1
				ИЗ
					РегистрНакопления.НДФЛКЗачету КАК НДФЛКЗачету
				ГДЕ
					НДФЛКЗачету.Период МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода) КАК Сальдо
				ПО (Сальдо.Период &lt;= Периоды.Период)
		
		СГРУППИРОВАТЬ ПО
			Периоды.Период,
			Сальдо.Физлицо,
			Сальдо.Организация
		
		ИМЕЮЩИЕ
			(СУММА(ВЫБОР
						КОГДА Сальдо.Период &lt; Периоды.Период
							ТОГДА Сальдо.Сумма
						ИНАЧЕ 0
					КОНЕЦ) &lt;&gt; 0
				ИЛИ СУММА(ВЫБОР
						КОГДА Сальдо.Период &lt;= Периоды.Период
							ТОГДА Сальдо.Сумма
						ИНАЧЕ 0
					КОНЕЦ) &lt;&gt; 0
				ИЛИ СУММА(ВЫБОР
						КОГДА Сальдо.Период = Периоды.Период
							ТОГДА Сальдо.Сумма
						ИНАЧЕ 0
					КОНЕЦ) &lt;&gt; 0)) КАК Остаток
		ПО ДатыПоследнихДоговоров.Физлицо = Остаток.Физлицо
			И (ВЫБОР
				КОГДА ДатыПоследнихДоговоров.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
					ТОГДА ДатыПоследнихДоговоров.Организация
				ИНАЧЕ ДатыПоследнихДоговоров.Организация.ГоловнаяОрганизация
			КОНЕЦ = ВЫБОР
				КОГДА Остаток.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
					ТОГДА Остаток.Организация
				ИНАЧЕ Остаток.Организация.ГоловнаяОрганизация
			КОНЕЦ)
			И ДатыПоследнихДоговоров.ПериодРегистрации = Остаток.ПериодРегистрации
ГДЕ
	ВЫБОР
			КОГДА РаботникиОрганизаций.ПричинаИзмененияСостояния = ЗНАЧЕНИЕ(Перечисление.ПричиныИзмененияСостояния.Увольнение)
					И РаботникиОрганизаций.Период &lt;= ДатыПоследнихДоговоров.ПериодРегистрации
				ТОГДА ИСТИНА
			КОГДА РаботникиОрганизаций.ПричинаИзмененияСостоянияЗавершения = ЗНАЧЕНИЕ(Перечисление.ПричиныИзмененияСостояния.Увольнение)
					И РаботникиОрганизаций.ПериодЗавершения &lt;= ДатыПоследнихДоговоров.ПериодРегистрации
				ТОГДА ИСТИНА
			КОГДА РаботникиОрганизаций.ПричинаИзмененияСостоянияЗавершения ЕСТЬ NULL 
				ТОГДА ИСТИНА
			ИНАЧЕ ЛОЖЬ
		КОНЕЦ
{ГДЕ
	ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник.*,
	ДоговорНаВыполнениеРаботСФизЛицом.Организация.*,
	ДоговорНаВыполнениеРаботСФизЛицом.ФизЛицо.*,
	ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации.*,
	(ЗНАЧЕНИЕ(Справочник.ДолжностиОрганизаций.ПустаяСсылка)).* КАК Должность,
	ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник.Код КАК ТабельныйНомерНачало,
	ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник.Код КАК ТабельныйНомерКонец}

СГРУППИРОВАТЬ ПО
	ДатыПоследнихДоговоров.Физлицо,
	ДатыПоследнихДоговоров.Организация,
	ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник.ВидДоговора,
	ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник,
	ДатыПоследнихДоговоров.ПериодРегистрации,
	ВЫБОР
		КОГДА ДоговорНаВыполнениеРаботСФизЛицом.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
			ТОГДА ДоговорНаВыполнениеРаботСФизЛицом.Организация
		ИНАЧЕ ДоговорНаВыполнениеРаботСФизЛицом.Организация.ГоловнаяОрганизация
	КОНЕЦ,
	ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник.Код,
	ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник.Код

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	Периоды.Период,
	СотрудникиОрганизаций.Ссылка,
	СотрудникиОрганизаций.ОбособленноеПодразделение,
	СотрудникиОрганизаций.Физлицо,
	ЗНАЧЕНИЕ(Справочник.ПодразделенияОрганизаций.Пустаяссылка),
	СотрудникиОрганизаций.Должность,
	СотрудникиОрганизаций.Организация,
	СотрудникиОрганизаций.Код,
	СотрудникиОрганизаций.Код
ИЗ
	(ВЫБРАТЬ РАЗЛИЧНЫЕ
		НАЧАЛОПЕРИОДА(РегламентированныйПроизводственныйКалендарь.ДатаКалендаря, МЕСЯЦ) КАК Период
	ИЗ
		РегистрСведений.РегламентированныйПроизводственныйКалендарь КАК РегламентированныйПроизводственныйКалендарь
	ГДЕ
		РегламентированныйПроизводственныйКалендарь.ДатаКалендаря МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода) КАК Периоды,
	Справочник.СотрудникиОрганизаций КАК СотрудникиОрганизаций
ГДЕ
	СотрудникиОрганизаций.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровСФизЛицами.Авторский)
{ХАРАКТЕРИСТИКИ
	ТИП(Справочник.ДолжностиОрганизаций)
	ВИДЫХАРАКТЕРИСТИК (ВЫБРАТЬ
			СвойстваОбъектов.Ссылка,
			" Дополнительное свойство: " + СвойстваОбъектов.Наименование КАК Наименование,
			СвойстваОбъектов.ТипЗначения
		ИЗ
			ПланВидовХарактеристик.СвойстваОбъектов КАК СвойстваОбъектов
		ГДЕ
			СвойстваОбъектов.НазначениеСвойства = ЗНАЧЕНИЕ(ПланВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_ДолжностиОрганизаций)
			И НЕ СвойстваОбъектов.ПометкаУдаления)
	ПОЛЕКЛЮЧА Ссылка
	ПОЛЕИМЕНИ Наименование
	ПОЛЕТИПАЗНАЧЕНИЯ ТипЗначения
	ЗНАЧЕНИЯХАРАКТЕРИСТИК РегистрСведений.ЗначенияСвойствОбъектов
	ПОЛЕОБЪЕКТА Объект
	ПОЛЕВИДА Свойство
	ПОЛЕЗНАЧЕНИЯ Значение }
{ХАРАКТЕРИСТИКИ
	ТИП(Справочник.ДолжностиОрганизаций)
	ВИДЫХАРАКТЕРИСТИК (ВЫБРАТЬ
			КатегорииОбъектов.Ссылка,
			" Дополнительная категория: " + КатегорииОбъектов.Наименование КАК Наименование
		ИЗ
			Справочник.КатегорииОбъектов КАК КатегорииОбъектов
		ГДЕ
			КатегорииОбъектов.НазначениеКатегории = ЗНАЧЕНИЕ(ПланВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_ДолжностиОрганизаций)
			И НЕ КатегорииОбъектов.ПометкаУдаления)
	ПОЛЕКЛЮЧА Ссылка
	ПОЛЕИМЕНИ Наименование
	ЗНАЧЕНИЯХАРАКТЕРИСТИК РегистрСведений.КатегорииОбъектов
	ПОЛЕОБЪЕКТА Объект
	ПОЛЕВИДА Категория }
{ХАРАКТЕРИСТИКИ
	ТИП(Справочник.ПодразделенияОрганизаций)
	ВИДЫХАРАКТЕРИСТИК (ВЫБРАТЬ
			СвойстваОбъектов.Ссылка,
			" Дополнительное свойство: " + СвойстваОбъектов.Наименование КАК Наименование,
			СвойстваОбъектов.ТипЗначения
		ИЗ
			ПланВидовХарактеристик.СвойстваОбъектов КАК СвойстваОбъектов
		ГДЕ
			СвойстваОбъектов.НазначениеСвойства = ЗНАЧЕНИЕ(ПланВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_ПодразделенияОрганизаций)
			И НЕ СвойстваОбъектов.ПометкаУдаления)
	ПОЛЕКЛЮЧА Ссылка
	ПОЛЕИМЕНИ Наименование
	ПОЛЕТИПАЗНАЧЕНИЯ ТипЗначения
	ЗНАЧЕНИЯХАРАКТЕРИСТИК РегистрСведений.ЗначенияСвойствОбъектов
	ПОЛЕОБЪЕКТА Объект
	ПОЛЕВИДА Свойство
	ПОЛЕЗНАЧЕНИЯ Значение }
{ХАРАКТЕРИСТИКИ
	ТИП(Справочник.СотрудникиОрганизаций)
	ВИДЫХАРАКТЕРИСТИК (ВЫБРАТЬ
			СвойстваОбъектов.Ссылка,
			" Дополнительное свойство: " + СвойстваОбъектов.Наименование КАК Наименование,
			СвойстваОбъектов.ТипЗначения
		ИЗ
			ПланВидовХарактеристик.СвойстваОбъектов КАК СвойстваОбъектов
		ГДЕ
			СвойстваОбъектов.НазначениеСвойства = ЗНАЧЕНИЕ(ПланВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_СотрудникиОрганизаций)
			И НЕ СвойстваОбъектов.ПометкаУдаления)
	ПОЛЕКЛЮЧА Ссылка
	ПОЛЕИМЕНИ Наименование
	ПОЛЕТИПАЗНАЧЕНИЯ ТипЗначения
	ЗНАЧЕНИЯХАРАКТЕРИСТИК РегистрСведений.ЗначенияСвойствОбъектов
	ПОЛЕОБЪЕКТА Объект
	ПОЛЕВИДА Свойство
	ПОЛЕЗНАЧЕНИЯ Значение }
{ХАРАКТЕРИСТИКИ
	ТИП(Справочник.ПодразделенияОрганизаций)
	ВИДЫХАРАКТЕРИСТИК (ВЫБРАТЬ
			КатегорииОбъектов.Ссылка,
			" Дополнительная категория: " + КатегорииОбъектов.Наименование КАК Наименование
		ИЗ
			Справочник.КатегорииОбъектов КАК КатегорииОбъектов
		ГДЕ
			КатегорииОбъектов.НазначениеКатегории = ЗНАЧЕНИЕ(ПланВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_ПодразделенияОрганизаций)
			И НЕ КатегорииОбъектов.ПометкаУдаления)
	ПОЛЕКЛЮЧА Ссылка
	ПОЛЕИМЕНИ Наименование
	ЗНАЧЕНИЯХАРАКТЕРИСТИК РегистрСведений.КатегорииОбъектов
	ПОЛЕОБЪЕКТА Объект
	ПОЛЕВИДА Категория }
{ХАРАКТЕРИСТИКИ
	ТИП(Справочник.СотрудникиОрганизаций)
	ВИДЫХАРАКТЕРИСТИК (ВЫБРАТЬ
			КатегорииОбъектов.Ссылка,
			" Дополнительная категория: " + КатегорииОбъектов.Наименование КАК Наименование
		ИЗ
			Справочник.КатегорииОбъектов КАК КатегорииОбъектов
		ГДЕ
			КатегорииОбъектов.НазначениеКатегории = ЗНАЧЕНИЕ(ПланВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_СотрудникиОрганизаций)
			И НЕ КатегорииОбъектов.ПометкаУдаления)
	ПОЛЕКЛЮЧА Ссылка
	ПОЛЕИМЕНИ Наименование
	ЗНАЧЕНИЯХАРАКТЕРИСТИК РегистрСведений.КатегорииОбъектов
	ПОЛЕОБЪЕКТА Объект
	ПОЛЕВИДА Категория }
{ХАРАКТЕРИСТИКИ
	ТИП(Справочник.ФизическиеЛица)
	ВИДЫХАРАКТЕРИСТИК (ВЫБРАТЬ
			СвойстваОбъектов.Ссылка,
			" Дополнительное свойство: " + СвойстваОбъектов.Наименование КАК Наименование,
			СвойстваОбъектов.ТипЗначения
		ИЗ
			ПланВидовХарактеристик.СвойстваОбъектов КАК СвойстваОбъектов
		ГДЕ
			СвойстваОбъектов.НазначениеСвойства = ЗНАЧЕНИЕ(ПланВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_ФизическиеЛица)
			И НЕ СвойстваОбъектов.ПометкаУдаления)
	ПОЛЕКЛЮЧА Ссылка
	ПОЛЕИМЕНИ Наименование
	ПОЛЕТИПАЗНАЧЕНИЯ ТипЗначения
	ЗНАЧЕНИЯХАРАКТЕРИСТИК РегистрСведений.ЗначенияСвойствОбъектов
	ПОЛЕОБЪЕКТА Объект
	ПОЛЕВИДА Свойство
	ПОЛЕЗНАЧЕНИЯ Значение }
{ХАРАКТЕРИСТИКИ
	ТИП(Справочник.ПодразделенияОрганизаций)
	ВИДЫХАРАКТЕРИСТИК (ВЫБРАТЬ
			"Ответственное лицо" КАК Идентификатор,
			"Ответственное лицо" КАК ИмяХарактеристики)
	ПОЛЕКЛЮЧА Идентификатор
	ПОЛЕИМЕНИ ИмяХарактеристики
	ЗНАЧЕНИЯХАРАКТЕРИСТИК (ВЫБРАТЬ
			ОтветственныеЛицаСрезПоследних.СтруктурнаяЕдиница КАК Объект,
			"Ответственное лицо" КАК Идентификатор,
			ОтветственныеЛицаСрезПоследних.ФизическоеЛицо КАК Значение
		ИЗ
			РегистрСведений.ОтветственныеЛицаОрганизаций.СрезПоследних КАК ОтветственныеЛицаСрезПоследних
		ГДЕ
			ОтветственныеЛицаСрезПоследних.СтруктурнаяЕдиница ССЫЛКА Справочник.ПодразделенияОрганизаций
			И ОтветственныеЛицаСрезПоследних.ОтветственноеЛицо = ЗНАЧЕНИЕ(Перечисление.ОтветственныеЛицаОрганизаций.Руководитель))
	ПОЛЕОБЪЕКТА Объект
	ПОЛЕВИДА Идентификатор
	ПОЛЕЗНАЧЕНИЯ Значение }</query>
		<autoFillFields>false</autoFillFields>
	</dataSet>
	<dataSet xsi:type="DataSetUnion">
		<name>ВидыНачисленияУдержаний</name>
		<field xsi:type="DataSetFieldField">
			<dataPath>ВидДвижения</dataPath>
			<field>ВидДвижения</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Раздел</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ВидРасчета</dataPath>
			<field>ВидРасчета</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Вид расчета</v8:content>
				</v8:item>
			</title>
			<orderExpression>
				<dcscom:expression>Порядок</dcscom:expression>
				<dcscom:orderType>Asc</dcscom:orderType>
				<dcscom:autoOrder>false</dcscom:autoOrder>
			</orderExpression>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ГоловнаяОрганизация</dataPath>
			<field>ГоловнаяОрганизация</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Головная организация</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ОплаченоДней</dataPath>
			<field>ОплаченоДней</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Оплачено дней</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ОплаченоЧасов</dataPath>
			<field>ОплаченоЧасов</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Оплачено часов</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Организация</dataPath>
			<field>Организация</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Организация</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ОтработаноДней</dataPath>
			<field>ОтработаноДней</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Отработано дней</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ОтработаноЧасов</dataPath>
			<field>ОтработаноЧасов</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Отработано часов</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПериодДействия</dataPath>
			<field>ПериодДействия</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Месяц, за который платят</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:dateTime</v8:Type>
				<v8:DateQualifiers>
					<v8:DateFractions>DateTime</v8:DateFractions>
				</v8:DateQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПериодРегистрации</dataPath>
			<field>ПериодРегистрации</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Месяц начисления</v8:content>
				</v8:item>
			</title>
			<useRestriction>
				<group>true</group>
			</useRestriction>
			<valueType>
				<v8:Type>xs:dateTime</v8:Type>
				<v8:DateQualifiers>
					<v8:DateFractions>DateTime</v8:DateFractions>
				</v8:DateQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Порядок</dataPath>
			<field>Порядок</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>признак упорядочивания</v8:content>
				</v8:item>
			</title>
			<useRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
			</useRestriction>
			<attributeUseRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</attributeUseRestriction>
			<valueType>
				<v8:Type>xs:string</v8:Type>
				<v8:StringQualifiers>
					<v8:Length>0</v8:Length>
					<v8:AllowedLength>Variable</v8:AllowedLength>
				</v8:StringQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Регистратор</dataPath>
			<field>Регистратор</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Регистратор</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Результат</dataPath>
			<field>Результат</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Сумма</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>15</v8:Digits>
					<v8:FractionDigits>2</v8:FractionDigits>
					<v8:AllowedSign>Any</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ФизЛицо</dataPath>
			<field>ФизЛицо</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Физ лицо</v8:content>
				</v8:item>
			</title>
			<useRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</useRestriction>
			<attributeUseRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</attributeUseRestriction>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПериодВзаиморасчетов</dataPath>
			<field>ПериодВзаиморасчетов</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Период взаиморасчетов</v8:content>
				</v8:item>
			</title>
			<useRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</useRestriction>
			<attributeUseRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</attributeUseRestriction>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СтавкаНалогообложенияРезидента</dataPath>
			<field>СтавкаНалогообложенияРезидента</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Ставка налогообложения резидента</v8:content>
				</v8:item>
			</title>
			<useRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</useRestriction>
			<attributeUseRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</attributeUseRestriction>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПодразделениеОрганизации</dataPath>
			<field>ПодразделениеОрганизации</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Подразделение организации</v8:content>
				</v8:item>
			</title>
			<useRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</useRestriction>
			<attributeUseRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</attributeUseRestriction>
		</field>
		<item xsi:type="DataSetQuery">
			<name>ОсновныеНачисления</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидДвижения</dataPath>
				<field>ВидДвижения</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидРасчета</dataPath>
				<field>ВидРасчета</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ГоловнаяОрганизация</dataPath>
				<field>ГоловнаяОрганизация</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОплаченоДней</dataPath>
				<field>ОплаченоДней</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОплаченоЧасов</dataPath>
				<field>ОплаченоЧасов</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Организация</dataPath>
				<field>Организация</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОтработаноДней</dataPath>
				<field>ОтработаноДней</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОтработаноЧасов</dataPath>
				<field>ОтработаноЧасов</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодДействия</dataPath>
				<field>ПериодДействия</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодРегистрации</dataPath>
				<field>ПериодРегистрации</field>
				<role>
					<dcscom:periodNumber>1</dcscom:periodNumber>
					<dcscom:periodType>Main</dcscom:periodType>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Порядок</dataPath>
				<field>Порядок</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Регистратор</dataPath>
				<field>Регистратор</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Результат</dataPath>
				<field>Результат</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ФизЛицо</dataPath>
				<field>ФизЛицо</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПодразделениеОрганизации</dataPath>
				<field>ПодразделениеОрганизации</field>
			</field>
			<dataSource>ИнформационнаяБаза</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВЫБОР
		КОГДА ОсновныеНачисленияРаботниковОрганизации.ВидРасчета.ЯвляетсяДоходомВНатуральнойФорме
			ТОГДА "2. Доходы в натуральной форме"
		ИНАЧЕ "1. Начислено"
	КОНЕЦ КАК ВидДвижения,
	ОсновныеНачисленияРаботниковОрганизации.ФизЛицо КАК ФизЛицо,
	ОсновныеНачисленияРаботниковОрганизации.ОбособленноеПодразделение КАК Организация,
	ОсновныеНачисленияРаботниковОрганизации.Организация КАК ГоловнаяОрганизация,
	НАЧАЛОПЕРИОДА(ОсновныеНачисленияРаботниковОрганизации.ПериодРегистрации, МЕСЯЦ) КАК ПериодРегистрации,
	ОсновныеНачисленияРаботниковОрганизации.ВидРасчета.Код + " " + ОсновныеНачисленияРаботниковОрганизации.ВидРасчета.Наименование КАК ВидРасчета,
	ОсновныеНачисленияРаботниковОрганизации.ОтработаноДней КАК ОтработаноДней,
	ОсновныеНачисленияРаботниковОрганизации.ОтработаноЧасов КАК ОтработаноЧасов,
	ВЫБОР
		КОГДА ОсновныеНачисленияРаботниковОрганизации.ВидУчетаВремени = ЗНАЧЕНИЕ(Перечисление.ВидыУчетаВремени.ПоДням)
			ТОГДА ОсновныеНачисленияРаботниковОрганизации.ОплаченоДней
		ИНАЧЕ 0
	КОНЕЦ КАК ОплаченоДней,
	ВЫБОР
		КОГДА ОсновныеНачисленияРаботниковОрганизации.ВидУчетаВремени &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ВидыУчетаВремени.ПоДням)
			ТОГДА ОсновныеНачисленияРаботниковОрганизации.ОплаченоДнейЧасов
		ИНАЧЕ 0
	КОНЕЦ КАК ОплаченоЧасов,
	ОсновныеНачисленияРаботниковОрганизации.Результат КАК Результат,
	ОсновныеНачисленияРаботниковОрганизации.ПериодДействия КАК ПериодДействия,
	"А" + ОсновныеНачисленияРаботниковОрганизации.ВидРасчета.Код КАК Порядок,
	ОсновныеНачисленияРаботниковОрганизации.Регистратор КАК Регистратор,
	ВЫБОР
		КОГДА ОсновныеНачисленияРаботниковОрганизации.ПодразделениеОрганизации = ЗНАЧЕНИЕ(справочник.ПодразделенияОрганизаций.пустаяссылка)
				ИЛИ ЕСТЬNULL(ОсновныеНачисленияРаботниковОрганизации.ПодразделениеОрганизации, 1) = 1
			ТОГДА ЕСТЬNULL(ВложенныйЗапрос.ПодразделениеОрганизации, 1)
		ИНАЧЕ ОсновныеНачисленияРаботниковОрганизации.ПодразделениеОрганизации
	КОНЕЦ КАК ПодразделениеОрганизации
{ВЫБРАТЬ
	ВидДвижения,
	ФизЛицо.*,
	Организация.*,
	ГоловнаяОрганизация.*,
	ПериодРегистрации,
	ВидРасчета,
	ОтработаноДней,
	ОтработаноЧасов,
	ОплаченоДней,
	ОплаченоЧасов,
	Результат,
	ПериодДействия,
	Порядок,
	Регистратор.*}
ИЗ
	РегистрРасчета.ОсновныеНачисленияРаботниковОрганизаций КАК ОсновныеНачисленияРаботниковОрганизации
		ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
			ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации КАК ПодразделениеОрганизации,
			ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник КАК Сотрудник
		ИЗ
			Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
		ГДЕ
			ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала &lt;= &amp;КонецПериода
			И ДоговорНаВыполнениеРаботСФизЛицом.Проведен
			И ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации &lt;&gt; ЗНАЧЕНИЕ(справочник.ПодразделенияОрганизаций.пустаяссылка)
		
		СГРУППИРОВАТЬ ПО
			ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации,
			ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник) КАК ВложенныйЗапрос
		ПО ОсновныеНачисленияРаботниковОрганизации.Сотрудник = ВложенныйЗапрос.Сотрудник
ГДЕ
	ОсновныеНачисленияРаботниковОрганизации.ПериодРегистрации МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
	И (ОсновныеНачисленияРаботниковОрганизации.Результат &lt;&gt; 0
			ИЛИ ОсновныеНачисленияРаботниковОрганизации.ОтработаноДней &lt;&gt; 0
			ИЛИ ОсновныеНачисленияРаботниковОрганизации.ОтработаноЧасов &lt;&gt; 0
			ИЛИ ОсновныеНачисленияРаботниковОрганизации.ОплаченоДнейЧасов &lt;&gt; 0)
{ГДЕ
	ОсновныеНачисленияРаботниковОрганизации.ФизЛицо.*,
	ОсновныеНачисленияРаботниковОрганизации.Организация.* КАК ГоловнаяОрганизация}</query>
		</item>
		<item xsi:type="DataSetQuery">
			<name>ДополнительныеНачисления</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидДвижения</dataPath>
				<field>ВидДвижения</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидРасчета</dataPath>
				<field>ВидРасчета</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ГоловнаяОрганизация</dataPath>
				<field>ГоловнаяОрганизация</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОплаченоДней</dataPath>
				<field>ОплаченоДней</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОплаченоЧасов</dataPath>
				<field>ОплаченоЧасов</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Организация</dataPath>
				<field>Организация</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОтработаноДней</dataPath>
				<field>ОтработаноДней</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОтработаноЧасов</dataPath>
				<field>ОтработаноЧасов</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодДействия</dataPath>
				<field>ПериодДействия</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодРегистрации</dataPath>
				<field>ПериодРегистрации</field>
				<role>
					<dcscom:periodNumber>1</dcscom:periodNumber>
					<dcscom:periodType>Main</dcscom:periodType>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Порядок</dataPath>
				<field>Порядок</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Регистратор</dataPath>
				<field>Регистратор</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Результат</dataPath>
				<field>Результат</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ФизЛицо</dataPath>
				<field>ФизЛицо</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПодразделениеОрганизации</dataPath>
				<field>ПодразделениеОрганизации</field>
			</field>
			<dataSource>ИнформационнаяБаза</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВЫБОР
		КОГДА ДополнительныеНачисленияРаботниковОрганизации.ВидРасчета.ЯвляетсяДоходомВНатуральнойФорме
			ТОГДА "2. Доходы в натуральной форме"
		ИНАЧЕ "1. Начислено"
	КОНЕЦ КАК ВидДвижения,
	ДополнительныеНачисленияРаботниковОрганизации.ФизЛицо КАК ФизЛицо,
	ДополнительныеНачисленияРаботниковОрганизации.ОбособленноеПодразделение КАК Организация,
	ДополнительныеНачисленияРаботниковОрганизации.Организация КАК ГоловнаяОрганизация,
	НАЧАЛОПЕРИОДА(ДополнительныеНачисленияРаботниковОрганизации.ПериодРегистрации, МЕСЯЦ) КАК ПериодРегистрации,
	ДополнительныеНачисленияРаботниковОрганизации.ВидРасчета.Код + " " + ДополнительныеНачисленияРаботниковОрганизации.ВидРасчета.Наименование КАК ВидРасчета,
	NULL КАК ОтработаноДней,
	NULL КАК ОтработаноЧасов,
	ВЫБОР
		КОГДА ДополнительныеНачисленияРаботниковОрганизации.ВидУчетаВремени = ЗНАЧЕНИЕ(Перечисление.ВидыУчетаВремени.ПоДням)
			ТОГДА ДополнительныеНачисленияРаботниковОрганизации.ОплаченоДнейЧасов
		ИНАЧЕ 0
	КОНЕЦ КАК ОплаченоДней,
	ВЫБОР
		КОГДА ДополнительныеНачисленияРаботниковОрганизации.ВидУчетаВремени = ЗНАЧЕНИЕ(Перечисление.ВидыУчетаВремени.ПоЧасам)
			ТОГДА ДополнительныеНачисленияРаботниковОрганизации.ОплаченоДнейЧасов
		ИНАЧЕ 0
	КОНЕЦ КАК ОплаченоЧасов,
	ДополнительныеНачисленияРаботниковОрганизации.Результат КАК Результат,
	НАЧАЛОПЕРИОДА(ДополнительныеНачисленияРаботниковОрганизации.БазовыйПериодНачало, МЕСЯЦ) КАК ПериодДействия,
	"Б" + ДополнительныеНачисленияРаботниковОрганизации.ВидРасчета.Код КАК Порядок,
	ДополнительныеНачисленияРаботниковОрганизации.Регистратор КАК Регистратор,
	ДополнительныеНачисленияРаботниковОрганизации.ПодразделениеОрганизации
{ВЫБРАТЬ
	ВидДвижения,
	ФизЛицо.*,
	ГоловнаяОрганизация.*,
	Организация.*,
	ПериодРегистрации,
	ВидРасчета,
	ОтработаноДней,
	ОтработаноЧасов,
	ОплаченоДней,
	ОплаченоЧасов,
	Результат,
	ПериодДействия,
	Порядок,
	Регистратор.*}
ИЗ
	РегистрРасчета.ДополнительныеНачисленияРаботниковОрганизаций КАК ДополнительныеНачисленияРаботниковОрганизации
ГДЕ
	ДополнительныеНачисленияРаботниковОрганизации.ПериодРегистрации МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
	И (ДополнительныеНачисленияРаботниковОрганизации.Результат &lt;&gt; 0
			ИЛИ ДополнительныеНачисленияРаботниковОрганизации.ОплаченоДнейЧасов &lt;&gt; 0)
{ГДЕ
	ДополнительныеНачисленияРаботниковОрганизации.ФизЛицо.*,
	ДополнительныеНачисленияРаботниковОрганизации.Организация.* КАК ГоловнаяОрганизация,
	(НАЧАЛОПЕРИОДА(ДополнительныеНачисленияРаботниковОрганизации.ПериодРегистрации, МЕСЯЦ)) КАК ПериодРегистрации}</query>
		</item>
		<item xsi:type="DataSetQuery">
			<name>ДоходыВНатуральнойФорме</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидДвижения</dataPath>
				<field>ВидДвижения</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Вид движения</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидРасчета</dataPath>
				<field>ВидРасчета</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Вид расчета</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ГоловнаяОрганизация</dataPath>
				<field>ГоловнаяОрганизация</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Головная организация</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОплаченоДней</dataPath>
				<field>ОплаченоДней</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Оплачено дней</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОплаченоЧасов</dataPath>
				<field>ОплаченоЧасов</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Оплачено часов</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Организация</dataPath>
				<field>Организация</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Организация</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОтработаноДней</dataPath>
				<field>ОтработаноДней</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Отработано дней</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОтработаноЧасов</dataPath>
				<field>ОтработаноЧасов</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Отработано часов</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодДействия</dataPath>
				<field>ПериодДействия</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Период действия</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:periodNumber>3</dcscom:periodNumber>
					<dcscom:periodType>Main</dcscom:periodType>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодРегистрации</dataPath>
				<field>ПериодРегистрации</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Период регистрации</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:periodNumber>2</dcscom:periodNumber>
					<dcscom:periodType>Main</dcscom:periodType>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Порядок</dataPath>
				<field>Порядок</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Порядок</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Регистратор</dataPath>
				<field>Регистратор</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Регистратор</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:periodNumber>1</dcscom:periodNumber>
					<dcscom:periodType>Main</dcscom:periodType>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Результат</dataPath>
				<field>Результат</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Результат</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ФизЛицо</dataPath>
				<field>ФизЛицо</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Физ лицо</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПодразделениеОрганизации</dataPath>
				<field>ПодразделениеОрганизации</field>
			</field>
			<dataSource>ИнформационнаяБаза</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	"2. Доходы в натуральной форме" КАК ВидДвижения,
	НДФЛСведенияОДоходах.ФизЛицо КАК ФизЛицо,
	НДФЛСведенияОДоходах.ОбособленноеПодразделение КАК Организация,
	НДФЛСведенияОДоходах.Организация КАК ГоловнаяОрганизация,
	НАЧАЛОПЕРИОДА(НДФЛСведенияОДоходах.Период, МЕСЯЦ) КАК ПериодРегистрации,
	"Мат. выгода по займам (кредитам)" КАК ВидРасчета,
	NULL КАК ОтработаноДней,
	NULL КАК ОтработаноЧасов,
	NULL КАК ОплаченоДней,
	NULL КАК ОплаченоЧасов,
	НДФЛСведенияОДоходах.СуммаДохода КАК Результат,
	НАЧАЛОПЕРИОДА(НДФЛСведенияОДоходах.Период, МЕСЯЦ) КАК ПериодДействия,
	"А" КАК Порядок,
	НДФЛСведенияОДоходах.Регистратор КАК Регистратор,
	ВЫБОР
		КОГДА НДФЛСведенияОДоходах.ПодразделениеОрганизации = ЗНАЧЕНИЕ(справочник.ПодразделенияОрганизаций.пустаяссылка)
				ИЛИ ЕСТЬNULL(НДФЛСведенияОДоходах.ПодразделениеОрганизации, 1) = 1
			ТОГДА ЕСТЬNULL(ВложенныйЗапрос.ПодразделениеОрганизации, 1)
		ИНАЧЕ НДФЛСведенияОДоходах.ПодразделениеОрганизации
	КОНЕЦ КАК ПодразделениеОрганизации
ИЗ
	РегистрНакопления.НДФЛСведенияОДоходах КАК НДФЛСведенияОДоходах
		ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
			ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации КАК ПодразделениеОрганизации,
			ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник КАК Сотрудник
		ИЗ
			Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
		ГДЕ
			ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала &lt;= &amp;КонецПериода
			И ДоговорНаВыполнениеРаботСФизЛицом.Проведен
			И ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации &lt;&gt; ЗНАЧЕНИЕ(справочник.ПодразделенияОрганизаций.пустаяссылка)
		
		СГРУППИРОВАТЬ ПО
			ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации,
			ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник) КАК ВложенныйЗапрос
		ПО НДФЛСведенияОДоходах.ФизЛицо = ВложенныйЗапрос.Сотрудник.Физлицо
ГДЕ
	НДФЛСведенияОДоходах.Период МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
	И НДФЛСведенияОДоходах.КодДохода В (ЗНАЧЕНИЕ(Справочник.ДоходыНДФЛ.Код99998проценты), ЗНАЧЕНИЕ(Справочник.ДоходыНДФЛ.Код99999товары))
	И НДФЛСведенияОДоходах.ИсчисленоИзЗарплаты
	И НДФЛСведенияОДоходах.СуммаДохода &lt;&gt; 0</query>
		</item>
		<item xsi:type="DataSetQuery">
			<name>Удержание</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидДвижения</dataPath>
				<field>ВидДвижения</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Вид движения</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидРасчета</dataPath>
				<field>ВидРасчета</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Вид расчета</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ГоловнаяОрганизация</dataPath>
				<field>ГоловнаяОрганизация</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Головная организация</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОплаченоДней</dataPath>
				<field>ОплаченоДней</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Оплачено дней</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОплаченоЧасов</dataPath>
				<field>ОплаченоЧасов</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Оплачено часов</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Организация</dataPath>
				<field>Организация</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Организация</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОтработаноДней</dataPath>
				<field>ОтработаноДней</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Отработано дней</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОтработаноЧасов</dataPath>
				<field>ОтработаноЧасов</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Отработано часов</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодДействия</dataPath>
				<field>ПериодДействия</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Период действия</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодРегистрации</dataPath>
				<field>ПериодРегистрации</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Период регистрации</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:periodNumber>1</dcscom:periodNumber>
					<dcscom:periodType>Main</dcscom:periodType>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Порядок</dataPath>
				<field>Порядок</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Порядок</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Регистратор</dataPath>
				<field>Регистратор</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Регистратор</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Результат</dataPath>
				<field>Результат</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Результат</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ФизЛицо</dataPath>
				<field>ФизЛицо</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Физ лицо</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПодразделениеОрганизации</dataPath>
				<field>ПодразделениеОрганизации</field>
			</field>
			<dataSource>ИнформационнаяБаза</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	"3. Удержано" КАК ВидДвижения,
	УдержанияРаботниковОрганизации.ФизЛицо КАК ФизЛицо,
	УдержанияРаботниковОрганизации.ОбособленноеПодразделение КАК Организация,
	УдержанияРаботниковОрганизации.Организация КАК ГоловнаяОрганизация,
	УдержанияРаботниковОрганизации.ПериодРегистрации КАК ПериодРегистрации,
	УдержанияРаботниковОрганизации.ВидРасчета.Код + " " + УдержанияРаботниковОрганизации.ВидРасчета.Наименование КАК ВидРасчета,
	NULL КАК ОтработаноДней,
	NULL КАК ОтработаноЧасов,
	NULL КАК ОплаченоДней,
	NULL КАК ОплаченоЧасов,
	УдержанияРаботниковОрганизации.Результат КАК Результат,
	НАЧАЛОПЕРИОДА(УдержанияРаботниковОрганизации.БазовыйПериодНачало, МЕСЯЦ) КАК ПериодДействия,
	"Б" КАК Порядок,
	УдержанияРаботниковОрганизации.Регистратор КАК Регистратор,
	ВЫБОР
		КОГДА УдержанияРаботниковОрганизации.ПодразделениеОрганизации = ЗНАЧЕНИЕ(справочник.ПодразделенияОрганизаций.пустаяссылка)
				ИЛИ ЕСТЬNULL(УдержанияРаботниковОрганизации.ПодразделениеОрганизации, 1) = 1
			ТОГДА ЕСТЬNULL(ВложенныйЗапрос.ПодразделениеОрганизации, 1)
		ИНАЧЕ УдержанияРаботниковОрганизации.ПодразделениеОрганизации
	КОНЕЦ КАК ПодразделениеОрганизации
ИЗ
	РегистрРасчета.УдержанияРаботниковОрганизаций КАК УдержанияРаботниковОрганизации
		ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
			ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации КАК ПодразделениеОрганизации,
			ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник КАК Сотрудник
		ИЗ
			Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
		ГДЕ
			ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала &lt;= &amp;КонецПериода
			И ДоговорНаВыполнениеРаботСФизЛицом.Проведен
			И ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации &lt;&gt; ЗНАЧЕНИЕ(справочник.ПодразделенияОрганизаций.пустаяссылка)
		
		СГРУППИРОВАТЬ ПО
			ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации,
			ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник) КАК ВложенныйЗапрос
		ПО УдержанияРаботниковОрганизации.Сотрудник = ВложенныйЗапрос.Сотрудник
ГДЕ
	УдержанияРаботниковОрганизации.ПериодРегистрации МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода</query>
		</item>
		<item xsi:type="DataSetQuery">
			<name>НДФЛНачисленный</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидДвижения</dataPath>
				<field>ВидДвижения</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидРасчета</dataPath>
				<field>ВидРасчета</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ГоловнаяОрганизация</dataPath>
				<field>ГоловнаяОрганизация</field>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОплаченоДней</dataPath>
				<field>ОплаченоДней</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОплаченоЧасов</dataPath>
				<field>ОплаченоЧасов</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Организация</dataPath>
				<field>Организация</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОтработаноДней</dataPath>
				<field>ОтработаноДней</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОтработаноЧасов</dataPath>
				<field>ОтработаноЧасов</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодДействия</dataPath>
				<field>ПериодДействия</field>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодРегистрации</dataPath>
				<field>ПериодРегистрации</field>
				<role>
					<dcscom:periodNumber>2</dcscom:periodNumber>
					<dcscom:periodType>Main</dcscom:periodType>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Порядок</dataPath>
				<field>Порядок</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Регистратор</dataPath>
				<field>Регистратор</field>
				<role>
					<dcscom:periodNumber>1</dcscom:periodNumber>
					<dcscom:periodType>Main</dcscom:periodType>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Результат</dataPath>
				<field>Результат</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ФизЛицо</dataPath>
				<field>ФизЛицо</field>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПодразделениеОрганизации</dataPath>
				<field>ПодразделениеОрганизации</field>
			</field>
			<dataSource>ИнформационнаяБаза</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	"3. Удержано" КАК ВидДвижения,
	НДФЛРасчетыСБюджетом.ФизЛицо КАК ФизЛицо,
	НДФЛРасчетыСБюджетом.ОбособленноеПодразделение КАК Организация,
	НДФЛРасчетыСБюджетом.Организация КАК ГоловнаяОрганизация,
	НАЧАЛОПЕРИОДА(НДФЛРасчетыСБюджетом.Период, МЕСЯЦ) КАК ПериодРегистрации,
	"Подоходный налог исчисленный" КАК ВидРасчета,
	NULL КАК ОтработаноДней,
	NULL КАК ОтработаноЧасов,
	NULL КАК ОплаченоДней,
	NULL КАК ОплаченоЧасов,
	НДФЛРасчетыСБюджетом.Налог КАК Результат,
	НАЧАЛОПЕРИОДА(НДФЛРасчетыСБюджетом.МесяцНалоговогоПериода, МЕСЯЦ) КАК ПериодДействия,
	"А" КАК Порядок,
	НДФЛРасчетыСБюджетом.Регистратор КАК Регистратор,
	ВЫБОР
		КОГДА НДФЛРасчетыСБюджетом.ПодразделениеОрганизации = ЗНАЧЕНИЕ(справочник.ПодразделенияОрганизаций.пустаяссылка)
				ИЛИ ЕСТЬNULL(НДФЛРасчетыСБюджетом.ПодразделениеОрганизации, 1) = 1
			ТОГДА ЕСТЬNULL(ВложенныйЗапрос.ПодразделениеОрганизации, 1)
		ИНАЧЕ НДФЛРасчетыСБюджетом.ПодразделениеОрганизации
	КОНЕЦ КАК ПодразделениеОрганизации
{ВЫБРАТЬ
	ВидДвижения,
	ФизЛицо.*,
	Организация.*,
	ГоловнаяОрганизация.*,
	ПериодРегистрации,
	ВидРасчета,
	ОтработаноДней,
	ОтработаноЧасов,
	ОплаченоДней,
	Результат,
	ОплаченоЧасов,
	ПериодДействия,
	Порядок,
	Регистратор.*}
ИЗ
	РегистрНакопления.НДФЛРасчетыСБюджетом КАК НДФЛРасчетыСБюджетом
		ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
			ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации КАК ПодразделениеОрганизации,
			ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник КАК Сотрудник
		ИЗ
			Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
		ГДЕ
			ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала &lt;= &amp;КонецПериода
			И ДоговорНаВыполнениеРаботСФизЛицом.Проведен
			И ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации &lt;&gt; ЗНАЧЕНИЕ(справочник.ПодразделенияОрганизаций.пустаяссылка)
		
		СГРУППИРОВАТЬ ПО
			ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации,
			ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник) КАК ВложенныйЗапрос
		ПО НДФЛРасчетыСБюджетом.ФизЛицо = ВложенныйЗапрос.Сотрудник.Физлицо
ГДЕ
	НДФЛРасчетыСБюджетом.Период МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
	И НДФЛРасчетыСБюджетом.ИсчисленоИзЗарплаты
	И НДФЛРасчетыСБюджетом.ВидСтроки = ЗНАЧЕНИЕ(Перечисление.НДФЛРасчетыСБюджетомВидСтроки.Начисление)
{ГДЕ
	НДФЛРасчетыСБюджетом.ФизЛицо.*,
	НДФЛРасчетыСБюджетом.Организация.* КАК ГоловнаяОрганизация}</query>
		</item>
		<item xsi:type="DataSetQuery">
			<name>ПогашениеЗадолжености</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидДвижения</dataPath>
				<field>ВидДвижения</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Вид движения</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидРасчета</dataPath>
				<field>ВидРасчета</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Вид расчета</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ГоловнаяОрганизация</dataPath>
				<field>ГоловнаяОрганизация</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Головная организация</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОплаченоДней</dataPath>
				<field>ОплаченоДней</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Оплачено дней</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОплаченоЧасов</dataPath>
				<field>ОплаченоЧасов</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Оплачено часов</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Организация</dataPath>
				<field>Организация</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Организация</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОтработаноДней</dataPath>
				<field>ОтработаноДней</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Отработано дней</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОтработаноЧасов</dataPath>
				<field>ОтработаноЧасов</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Отработано часов</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодДействия</dataPath>
				<field>ПериодДействия</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Период действия</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:periodNumber>3</dcscom:periodNumber>
					<dcscom:periodType>Main</dcscom:periodType>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодРегистрации</dataPath>
				<field>ПериодРегистрации</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Период регистрации</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:periodNumber>2</dcscom:periodNumber>
					<dcscom:periodType>Main</dcscom:periodType>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Порядок</dataPath>
				<field>Порядок</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Порядок</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Регистратор</dataPath>
				<field>Регистратор</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Регистратор</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:periodNumber>1</dcscom:periodNumber>
					<dcscom:periodType>Main</dcscom:periodType>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Результат</dataPath>
				<field>Результат</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Результат</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ФизЛицо</dataPath>
				<field>ФизЛицо</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Физ лицо</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПодразделениеОрганизации</dataPath>
				<field>ПодразделениеОрганизации</field>
			</field>
			<dataSource>ИнформационнаяБаза</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	"3. Удержано" КАК ВидДвижения,
	ПогашениеЗаймовРаботникамиОрганизаций.ФизЛицо КАК ФизЛицо,
	ПогашениеЗаймовРаботникамиОрганизаций.Организация КАК Организация,
	ВЫБОР
		КОГДА ПогашениеЗаймовРаботникамиОрганизаций.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
			ТОГДА ПогашениеЗаймовРаботникамиОрганизаций.Организация
		ИНАЧЕ ПогашениеЗаймовРаботникамиОрганизаций.Организация.ГоловнаяОрганизация
	КОНЕЦ КАК ГоловнаяОрганизация,
	НАЧАЛОПЕРИОДА(ПогашениеЗаймовРаботникамиОрганизаций.Период, МЕСЯЦ) КАК ПериодРегистрации,
	"Погашение займа" КАК ВидРасчета,
	NULL КАК ОтработаноДней,
	NULL КАК ОтработаноЧасов,
	NULL КАК ОплаченоДней,
	NULL КАК ОплаченоЧасов,
	ПогашениеЗаймовРаботникамиОрганизаций.ОсновнойДолг + ПогашениеЗаймовРаботникамиОрганизаций.Проценты КАК Результат,
	НАЧАЛОПЕРИОДА(ПогашениеЗаймовРаботникамиОрганизаций.Период, МЕСЯЦ) КАК ПериодДействия,
	"В" КАК Порядок,
	ПогашениеЗаймовРаботникамиОрганизаций.Регистратор КАК Регистратор,
	ВЫБОР
		КОГДА РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации = ЗНАЧЕНИЕ(справочник.ПодразделенияОрганизаций.пустаяссылка)
				ИЛИ ЕСТЬNULL(РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации, 1) = 1
			ТОГДА ЕСТЬNULL(ВложенныйЗапрос.ПодразделениеОрганизации, 1)
		ИНАЧЕ РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации
	КОНЕЦ КАК ПодразделениеОрганизации
ИЗ
	РегистрНакопления.ПогашениеЗаймовРаботникамиОрганизаций КАК ПогашениеЗаймовРаботникамиОрганизаций
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;КонецПериода, ) КАК РаботникиОрганизацийСрезПоследних
		ПО ПогашениеЗаймовРаботникамиОрганизаций.ФизЛицо = РаботникиОрганизацийСрезПоследних.Сотрудник.Физлицо
			И ПогашениеЗаймовРаботникамиОрганизаций.Организация = РаботникиОрганизацийСрезПоследних.Сотрудник.Организация
		ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
			ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации КАК ПодразделениеОрганизации,
			ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник КАК Сотрудник
		ИЗ
			Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
		ГДЕ
			ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала &lt;= &amp;КонецПериода
			И ДоговорНаВыполнениеРаботСФизЛицом.Проведен
			И ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации &lt;&gt; ЗНАЧЕНИЕ(справочник.ПодразделенияОрганизаций.пустаяссылка)
		
		СГРУППИРОВАТЬ ПО
			ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации,
			ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник) КАК ВложенныйЗапрос
		ПО ПогашениеЗаймовРаботникамиОрганизаций.ФизЛицо = ВложенныйЗапрос.Сотрудник.Физлицо
ГДЕ
	ПогашениеЗаймовРаботникамиОрганизаций.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
	И ПогашениеЗаймовРаботникамиОрганизаций.Период МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
	И ПогашениеЗаймовРаботникамиОрганизаций.УдержаноИзЗарплаты</query>
		</item>
		<item xsi:type="DataSetQuery">
			<name>Выплата</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидДвижения</dataPath>
				<field>ВидДвижения</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидРасчета</dataPath>
				<field>ВидРасчета</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ГоловнаяОрганизация</dataPath>
				<field>ГоловнаяОрганизация</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Головная организация</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОплаченоДней</dataPath>
				<field>ОплаченоДней</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОплаченоЧасов</dataPath>
				<field>ОплаченоЧасов</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Организация</dataPath>
				<field>Организация</field>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОтработаноДней</dataPath>
				<field>ОтработаноДней</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОтработаноЧасов</dataPath>
				<field>ОтработаноЧасов</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодДействия</dataPath>
				<field>ПериодДействия</field>
				<role>
					<dcscom:periodNumber>3</dcscom:periodNumber>
					<dcscom:periodType>Main</dcscom:periodType>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодРегистрации</dataPath>
				<field>ПериодРегистрации</field>
				<role>
					<dcscom:periodNumber>2</dcscom:periodNumber>
					<dcscom:periodType>Main</dcscom:periodType>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Порядок</dataPath>
				<field>Порядок</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Регистратор</dataPath>
				<field>Регистратор</field>
				<role>
					<dcscom:periodNumber>1</dcscom:periodNumber>
					<dcscom:periodType>Main</dcscom:periodType>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Результат</dataPath>
				<field>Результат</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ФизЛицо</dataPath>
				<field>ФизЛицо</field>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПодразделениеОрганизации</dataPath>
				<field>ПодразделениеОрганизации</field>
			</field>
			<dataSource>ИнформационнаяБаза</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	"4. Выплата" КАК ВидДвижения,
	ВзаиморасчетыСРаботникамиОрганизаций.Физлицо КАК ФизЛицо,
	ВзаиморасчетыСРаботникамиОрганизаций.Организация КАК Организация,
	ВЫБОР
		КОГДА ВзаиморасчетыСРаботникамиОрганизаций.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
			ТОГДА ВзаиморасчетыСРаботникамиОрганизаций.Организация
		ИНАЧЕ ВзаиморасчетыСРаботникамиОрганизаций.Организация.ГоловнаяОрганизация
	КОНЕЦ КАК ГоловнаяОрганизация,
	НАЧАЛОПЕРИОДА(ВзаиморасчетыСРаботникамиОрганизаций.Период, МЕСЯЦ) КАК ПериодРегистрации,
	ВЫБОР
		КОГДА ВзаиморасчетыСРаботникамиОрганизаций.СуммаВзаиморасчетов &gt; 0
				И НЕ ВзаиморасчетыСРаботникамиОрганизаций.Регистратор ССЫЛКА Документ.ДепонированиеОрганизаций
			ТОГДА "Выплачено № " + ВзаиморасчетыСРаботникамиОрганизаций.Ведомость.Номер + ВЫБОР
					КОГДА ВзаиморасчетыСРаботникамиОрганизаций.СпособВыплаты = ЗНАЧЕНИЕ(Перечисление.СпособыВыплатыЗарплаты.ЧерезБанк)
						ТОГДА " ч/з банк" + ВЫБОР
								КОГДА ВзаиморасчетыСРаботникамиОрганизаций.ХарактерВыплаты = ЗНАЧЕНИЕ(Перечисление.ХарактерВыплатыЗарплаты.ПлановыйАванс)
										ИЛИ ВзаиморасчетыСРаботникамиОрганизаций.ХарактерВыплаты = ЗНАЧЕНИЕ(Перечисление.ХарактерВыплатыЗарплаты.АвансЗаПервуюПоловинуМесяца)
									ТОГДА " аванс"
								КОГДА ВзаиморасчетыСРаботникамиОрганизаций.ХарактерВыплаты = ЗНАЧЕНИЕ(Перечисление.ХарактерВыплатыЗарплаты.Зарплата)
									ТОГДА " зарплата"
								КОГДА ВзаиморасчетыСРаботникамиОрганизаций.ХарактерВыплаты = ЗНАЧЕНИЕ(Перечисление.ХарактерВыплатыЗарплаты.Командировочные)
									ТОГДА " командировочные"
								КОГДА ВзаиморасчетыСРаботникамиОрганизаций.ХарактерВыплаты = ЗНАЧЕНИЕ(Перечисление.ХарактерВыплатыЗарплаты.Отпускные)
									ТОГДА " отпускные"
								ИНАЧЕ " внеочередные выплаты"
							КОНЕЦ
					ИНАЧЕ " ч/з кассу" + ВЫБОР
							КОГДА ВзаиморасчетыСРаботникамиОрганизаций.ХарактерВыплаты = ЗНАЧЕНИЕ(Перечисление.ХарактерВыплатыЗарплаты.ПлановыйАванс)
									ИЛИ ВзаиморасчетыСРаботникамиОрганизаций.ХарактерВыплаты = ЗНАЧЕНИЕ(Перечисление.ХарактерВыплатыЗарплаты.АвансЗаПервуюПоловинуМесяца)
								ТОГДА " аванс"
							КОГДА ВзаиморасчетыСРаботникамиОрганизаций.ХарактерВыплаты = ЗНАЧЕНИЕ(Перечисление.ХарактерВыплатыЗарплаты.Зарплата)
								ТОГДА " зарплата"
							КОГДА ВзаиморасчетыСРаботникамиОрганизаций.ХарактерВыплаты = ЗНАЧЕНИЕ(Перечисление.ХарактерВыплатыЗарплаты.Командировочные)
								ТОГДА " командировочные"
							КОГДА ВзаиморасчетыСРаботникамиОрганизаций.ХарактерВыплаты = ЗНАЧЕНИЕ(Перечисление.ХарактерВыплатыЗарплаты.Отпускные)
								ТОГДА " отпускные"
							ИНАЧЕ " внеочередные выплаты"
						КОНЕЦ
				КОНЕЦ
		КОГДА ВзаиморасчетыСРаботникамиОрганизаций.СуммаВзаиморасчетов &lt; 0
				И НЕ ВзаиморасчетыСРаботникамиОрганизаций.Регистратор ССЫЛКА Документ.ДепонированиеОрганизаций
			ТОГДА "Возврат № " + (ВЫРАЗИТЬ(ВЫРАЗИТЬ(ВзаиморасчетыСРаботникамиОрганизаций.Регистратор КАК Документ.ПриходныйКассовыйОрдер).Номер КАК СТРОКА(11)))
		КОГДА ВзаиморасчетыСРаботникамиОрганизаций.Регистратор ССЫЛКА Документ.ДепонированиеОрганизаций
			ТОГДА "Задепонировано № " + ВзаиморасчетыСРаботникамиОрганизаций.Ведомость.Номер
		ИНАЧЕ "Пусто"
	КОНЕЦ КАК ВидРасчета,
	NULL КАК ОтработаноДней,
	NULL КАК ОтработаноЧасов,
	NULL КАК ОплаченоДней,
	NULL КАК ОплаченоЧасов,
	СУММА(ВзаиморасчетыСРаботникамиОрганизаций.СуммаВзаиморасчетов) КАК Результат,
	НАЧАЛОПЕРИОДА(ВзаиморасчетыСРаботникамиОрганизаций.Период, МЕСЯЦ) КАК ПериодДействия,
	"А" КАК Порядок,
	ВзаиморасчетыСРаботникамиОрганизаций.Регистратор КАК Регистратор,
	ВЫБОР
		КОГДА РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации = ЗНАЧЕНИЕ(справочник.ПодразделенияОрганизаций.пустаяссылка)
				ИЛИ ЕСТЬNULL(РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации, 1) = 1
			ТОГДА ЕСТЬNULL(ВложенныйЗапрос.ПодразделениеОрганизации, 1)
		ИНАЧЕ РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации
	КОНЕЦ КАК ПодразделениеОрганизации
{ВЫБРАТЬ
	ФизЛицо.*,
	ВидДвижения,
	Организация.*,
	ПериодРегистрации,
	ВидРасчета,
	ОтработаноДней,
	ОтработаноЧасов,
	ОплаченоДней,
	ОплаченоЧасов,
	Результат,
	ПериодДействия,
	Порядок,
	Регистратор.*}
ИЗ
	РегистрНакопления.ВзаиморасчетыСРаботникамиОрганизаций КАК ВзаиморасчетыСРаботникамиОрганизаций
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;КонецПериода, ) КАК РаботникиОрганизацийСрезПоследних
		ПО ВзаиморасчетыСРаботникамиОрганизаций.Физлицо = РаботникиОрганизацийСрезПоследних.Сотрудник.Физлицо
			И ВзаиморасчетыСРаботникамиОрганизаций.Организация = РаботникиОрганизацийСрезПоследних.Организация
		ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
			ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации КАК ПодразделениеОрганизации,
			ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник КАК Сотрудник
		ИЗ
			Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
		ГДЕ
			ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала &lt;= &amp;КонецПериода
			И ДоговорНаВыполнениеРаботСФизЛицом.Проведен
			И ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации &lt;&gt; ЗНАЧЕНИЕ(справочник.ПодразделенияОрганизаций.пустаяссылка)
		
		СГРУППИРОВАТЬ ПО
			ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации,
			ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник) КАК ВложенныйЗапрос
		ПО ВзаиморасчетыСРаботникамиОрганизаций.Физлицо = ВложенныйЗапрос.Сотрудник.Физлицо
ГДЕ
	ВзаиморасчетыСРаботникамиОрганизаций.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
	И ВзаиморасчетыСРаботникамиОрганизаций.Период МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
	И ВзаиморасчетыСРаботникамиОрганизаций.СуммаВзаиморасчетов &lt;&gt; 0
{ГДЕ
	ВзаиморасчетыСРаботникамиОрганизаций.Физлицо.*,
	(ВЫБОР
			КОГДА ВзаиморасчетыСРаботникамиОрганизаций.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
				ТОГДА ВзаиморасчетыСРаботникамиОрганизаций.Организация
			ИНАЧЕ ВзаиморасчетыСРаботникамиОрганизаций.Организация.ГоловнаяОрганизация
		КОНЕЦ).* КАК ГоловнаяОрганизация}

СГРУППИРОВАТЬ ПО
	ВзаиморасчетыСРаботникамиОрганизаций.Физлицо,
	ВзаиморасчетыСРаботникамиОрганизаций.Организация,
	ВЫБОР
		КОГДА ВзаиморасчетыСРаботникамиОрганизаций.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
			ТОГДА ВзаиморасчетыСРаботникамиОрганизаций.Организация
		ИНАЧЕ ВзаиморасчетыСРаботникамиОрганизаций.Организация.ГоловнаяОрганизация
	КОНЕЦ,
	НАЧАЛОПЕРИОДА(ВзаиморасчетыСРаботникамиОрганизаций.Период, МЕСЯЦ),
	ВзаиморасчетыСРаботникамиОрганизаций.Регистратор,
	ВЫБОР
		КОГДА ВзаиморасчетыСРаботникамиОрганизаций.СуммаВзаиморасчетов &gt; 0
				И НЕ ВзаиморасчетыСРаботникамиОрганизаций.Регистратор ССЫЛКА Документ.ДепонированиеОрганизаций
			ТОГДА "Выплачено № " + ВзаиморасчетыСРаботникамиОрганизаций.Ведомость.Номер + ВЫБОР
					КОГДА ВзаиморасчетыСРаботникамиОрганизаций.СпособВыплаты = ЗНАЧЕНИЕ(Перечисление.СпособыВыплатыЗарплаты.ЧерезБанк)
						ТОГДА " ч/з банк" + ВЫБОР
								КОГДА ВзаиморасчетыСРаботникамиОрганизаций.ХарактерВыплаты = ЗНАЧЕНИЕ(Перечисление.ХарактерВыплатыЗарплаты.ПлановыйАванс)
										ИЛИ ВзаиморасчетыСРаботникамиОрганизаций.ХарактерВыплаты = ЗНАЧЕНИЕ(Перечисление.ХарактерВыплатыЗарплаты.АвансЗаПервуюПоловинуМесяца)
									ТОГДА " аванс"
								КОГДА ВзаиморасчетыСРаботникамиОрганизаций.ХарактерВыплаты = ЗНАЧЕНИЕ(Перечисление.ХарактерВыплатыЗарплаты.Зарплата)
									ТОГДА " зарплата"
								КОГДА ВзаиморасчетыСРаботникамиОрганизаций.ХарактерВыплаты = ЗНАЧЕНИЕ(Перечисление.ХарактерВыплатыЗарплаты.Командировочные)
									ТОГДА " командировочные"
								КОГДА ВзаиморасчетыСРаботникамиОрганизаций.ХарактерВыплаты = ЗНАЧЕНИЕ(Перечисление.ХарактерВыплатыЗарплаты.Отпускные)
									ТОГДА " отпускные"
								ИНАЧЕ " внеочередные выплаты"
							КОНЕЦ
					ИНАЧЕ " ч/з кассу" + ВЫБОР
							КОГДА ВзаиморасчетыСРаботникамиОрганизаций.ХарактерВыплаты = ЗНАЧЕНИЕ(Перечисление.ХарактерВыплатыЗарплаты.ПлановыйАванс)
									ИЛИ ВзаиморасчетыСРаботникамиОрганизаций.ХарактерВыплаты = ЗНАЧЕНИЕ(Перечисление.ХарактерВыплатыЗарплаты.АвансЗаПервуюПоловинуМесяца)
								ТОГДА " аванс"
							КОГДА ВзаиморасчетыСРаботникамиОрганизаций.ХарактерВыплаты = ЗНАЧЕНИЕ(Перечисление.ХарактерВыплатыЗарплаты.Зарплата)
								ТОГДА " зарплата"
							КОГДА ВзаиморасчетыСРаботникамиОрганизаций.ХарактерВыплаты = ЗНАЧЕНИЕ(Перечисление.ХарактерВыплатыЗарплаты.Командировочные)
								ТОГДА " командировочные"
							КОГДА ВзаиморасчетыСРаботникамиОрганизаций.ХарактерВыплаты = ЗНАЧЕНИЕ(Перечисление.ХарактерВыплатыЗарплаты.Отпускные)
								ТОГДА " отпускные"
							ИНАЧЕ " внеочередные выплаты"
						КОНЕЦ
				КОНЕЦ
		КОГДА ВзаиморасчетыСРаботникамиОрганизаций.СуммаВзаиморасчетов &lt; 0
				И НЕ ВзаиморасчетыСРаботникамиОрганизаций.Регистратор ССЫЛКА Документ.ДепонированиеОрганизаций
			ТОГДА "Возврат № " + (ВЫРАЗИТЬ(ВЫРАЗИТЬ(ВзаиморасчетыСРаботникамиОрганизаций.Регистратор КАК Документ.ПриходныйКассовыйОрдер).Номер КАК СТРОКА(11)))
		КОГДА ВзаиморасчетыСРаботникамиОрганизаций.Регистратор ССЫЛКА Документ.ДепонированиеОрганизаций
			ТОГДА "Задепонировано № " + ВзаиморасчетыСРаботникамиОрганизаций.Ведомость.Номер
		ИНАЧЕ "Пусто"
	КОНЕЦ,
	ВЫБОР
		КОГДА РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации = ЗНАЧЕНИЕ(справочник.ПодразделенияОрганизаций.пустаяссылка)
				ИЛИ ЕСТЬNULL(РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации, 1) = 1
			ТОГДА ЕСТЬNULL(ВложенныйЗапрос.ПодразделениеОрганизации, 1)
		ИНАЧЕ РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации
	КОНЕЦ,
	НАЧАЛОПЕРИОДА(ВзаиморасчетыСРаботникамиОрганизаций.Период, МЕСЯЦ)</query>
		</item>
		<item xsi:type="DataSetQuery">
			<name>СальдоКонечныйОстаток</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидДвижения</dataPath>
				<field>ВидДвижения</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидРасчета</dataPath>
				<field>ВидРасчета</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ГоловнаяОрганизация</dataPath>
				<field>ГоловнаяОрганизация</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Организация</dataPath>
				<field>Организация</field>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодВзаиморасчетов</dataPath>
				<field>ПериодВзаиморасчетов</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Период взаиморасчетов</v8:content>
					</v8:item>
				</title>
				<useRestriction>
					<field>true</field>
					<condition>true</condition>
					<group>true</group>
					<order>true</order>
				</useRestriction>
				<attributeUseRestriction>
					<field>true</field>
					<condition>true</condition>
					<group>true</group>
					<order>true</order>
				</attributeUseRestriction>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодРегистрации</dataPath>
				<field>ПериодРегистрации</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Порядок</dataPath>
				<field>Порядок</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Порядок</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Результат</dataPath>
				<field>Результат</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>СтавкаНалогообложенияРезидента</dataPath>
				<field>СтавкаНалогообложенияРезидента</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Ставка налогообложения резидента</v8:content>
					</v8:item>
				</title>
				<useRestriction>
					<field>true</field>
					<condition>true</condition>
					<group>true</group>
					<order>true</order>
				</useRestriction>
				<attributeUseRestriction>
					<field>true</field>
					<condition>true</condition>
					<group>true</group>
					<order>true</order>
				</attributeUseRestriction>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Физлицо</dataPath>
				<field>Физлицо</field>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодДействия</dataPath>
				<field>ПериодДействия</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Период действия</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПодразделениеОрганизации</dataPath>
				<field>ПодразделениеОрганизации</field>
			</field>
			<dataSource>ИнформационнаяБаза</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	СуммаОстаток.ПериодРегистрации КАК ПериодРегистрации,
	СуммаОстаток.ПериодРегистрации КАК ПериодДействия,
	СуммаОстаток.Физлицо КАК Физлицо,
	СуммаОстаток.Организация КАК Организация,
	СуммаОстаток.ГоловнаяОрганизация КАК ГоловнаяОрганизация,
	ВЫБОР
		КОГДА СуммаОстаток.Результат &lt; 0
			ТОГДА "Б1"
		ИНАЧЕ "Б2"
	КОНЕЦ КАК Порядок,
	"5. Сальдо" КАК ВидДвижения,
	ВЫБОР
		КОГДА СуммаОстаток.Результат &lt; 0
			ТОГДА -СуммаОстаток.Результат
		ИНАЧЕ СуммаОстаток.Результат
	КОНЕЦ КАК Результат,
	ВЫБОР
		КОГДА СуммаОстаток.Результат &lt; 0
			ТОГДА "Долг за работниками на конец месяца"
		ИНАЧЕ "Долг за организацией на конец месяца"
	КОНЕЦ КАК ВидРасчета,
	ВЫБОР
		КОГДА РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации = ЗНАЧЕНИЕ(справочник.ПодразделенияОрганизаций.пустаяссылка)
				ИЛИ ЕСТЬNULL(РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации, 1) = 1
			ТОГДА ЕСТЬNULL(ВложенныйЗапрос.ПодразделениеОрганизации, 1)
		ИНАЧЕ РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации
	КОНЕЦ КАК ПодразделениеОрганизации
ИЗ
	(ВЫБРАТЬ
		Периоды.Период КАК ПериодРегистрации,
		Сальдо.Физлицо КАК Физлицо,
		Сальдо.Организация КАК Организация,
		СУММА(Сальдо.СуммаВзаиморасчетовОстаток) КАК Результат,
		ВЫБОР
			КОГДА Сальдо.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
				ТОГДА Сальдо.Организация
			ИНАЧЕ Сальдо.Организация.ГоловнаяОрганизация
		КОНЕЦ КАК ГоловнаяОрганизация
	ИЗ
		(ВЫБРАТЬ РАЗЛИЧНЫЕ
			НАЧАЛОПЕРИОДА(РегламентированныйПроизводственныйКалендарь.ДатаКалендаря, МЕСЯЦ) КАК Период
		ИЗ
			РегистрСведений.РегламентированныйПроизводственныйКалендарь КАК РегламентированныйПроизводственныйКалендарь
		ГДЕ
			РегламентированныйПроизводственныйКалендарь.ДатаКалендаря МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода) КАК Периоды
			ВНУТРЕННЕЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
				ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты.Организация КАК Организация,
				&amp;НачалоПериода КАК Период,
				ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты.Физлицо КАК Физлицо,
				ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты.СуммаВзаиморасчетовОстаток КАК СуммаВзаиморасчетовОстаток
			ИЗ
				РегистрНакопления.ВзаиморасчетыСРаботникамиОрганизаций.Остатки(&amp;НачалоПериода, ) КАК ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты
			
			ОБЪЕДИНИТЬ ВСЕ
			
			ВЫБРАТЬ
				ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты.Организация,
				ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты.Период,
				ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты.Физлицо,
				ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты.СуммаВзаиморасчетовОборот
			ИЗ
				РегистрНакопления.ВзаиморасчетыСРаботникамиОрганизаций.Обороты(&amp;НачалоПериода, &amp;КонецПериода, Месяц, ) КАК ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты
			
			ОБЪЕДИНИТЬ ВСЕ
			
			ВЫБРАТЬ
				НДФЛКЗачету.Организация,
				&amp;НачалоПериода,
				НДФЛКЗачету.ФизЛицо,
				НДФЛКЗачету.СуммаНДФЛКЗачетуОстаток
			ИЗ
				РегистрНакопления.НДФЛКЗачету.Остатки(&amp;НачалоПериода, ) КАК НДФЛКЗачету
			
			ОБЪЕДИНИТЬ ВСЕ
			
			ВЫБРАТЬ
				НДФЛКЗачету.Организация,
				НДФЛКЗачету.Период,
				НДФЛКЗачету.ФизЛицо,
				НДФЛКЗачету.СуммаНДФЛКЗачетуОборот
			ИЗ
				РегистрНакопления.НДФЛКЗачету.Обороты(&amp;НачалоПериода, &amp;КонецПериода, Месяц, ) КАК НДФЛКЗачету) КАК Сальдо
			ПО (Сальдо.Период &lt;= Периоды.Период)
	ГДЕ
		(Периоды.Период = НАЧАЛОПЕРИОДА(&amp;КонецПериода, МЕСЯЦ)
				ИЛИ &amp;ЕстьГруппировкаПоПериодуРегисрации)
	
	СГРУППИРОВАТЬ ПО
		Сальдо.Организация,
		Сальдо.Физлицо,
		Периоды.Период,
		ВЫБОР
			КОГДА Сальдо.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
				ТОГДА Сальдо.Организация
			ИНАЧЕ Сальдо.Организация.ГоловнаяОрганизация
		КОНЕЦ) КАК СуммаОстаток
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;КонецПериода, ) КАК РаботникиОрганизацийСрезПоследних
		ПО СуммаОстаток.Физлицо = РаботникиОрганизацийСрезПоследних.Сотрудник.Физлицо
			И СуммаОстаток.Организация = РаботникиОрганизацийСрезПоследних.Сотрудник.Организация
		ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
			ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации КАК ПодразделениеОрганизации,
			ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник КАК Сотрудник
		ИЗ
			Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
		ГДЕ
			ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала &lt;= &amp;КонецПериода
			И ДоговорНаВыполнениеРаботСФизЛицом.Проведен
			И ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации &lt;&gt; ЗНАЧЕНИЕ(справочник.ПодразделенияОрганизаций.пустаяссылка)
		
		СГРУППИРОВАТЬ ПО
			ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации,
			ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник) КАК ВложенныйЗапрос
		ПО СуммаОстаток.Физлицо = ВложенныйЗапрос.Сотрудник.Физлицо</query>
		</item>
		<item xsi:type="DataSetQuery">
			<name>СальдоНачальныйОстаток</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидРасчета</dataPath>
				<field>ВидРасчета</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Вид расчета</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Организация</dataPath>
				<field>Организация</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Организация</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодВзаиморасчетов</dataPath>
				<field>ПериодВзаиморасчетов</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Период взаиморасчетов</v8:content>
					</v8:item>
				</title>
				<useRestriction>
					<field>true</field>
					<condition>true</condition>
					<group>true</group>
					<order>true</order>
				</useRestriction>
				<attributeUseRestriction>
					<field>true</field>
					<condition>true</condition>
					<group>true</group>
					<order>true</order>
				</attributeUseRestriction>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодДействия</dataPath>
				<field>ПериодДействия</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Период действия</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодРегистрации</dataPath>
				<field>ПериодРегистрации</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Период регистрации</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Результат</dataPath>
				<field>Результат</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Результат</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>СтавкаНалогообложенияРезидента</dataPath>
				<field>СтавкаНалогообложенияРезидента</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Ставка налогообложения резидента</v8:content>
					</v8:item>
				</title>
				<useRestriction>
					<field>true</field>
					<condition>true</condition>
					<group>true</group>
					<order>true</order>
				</useRestriction>
				<attributeUseRestriction>
					<field>true</field>
					<condition>true</condition>
					<group>true</group>
					<order>true</order>
				</attributeUseRestriction>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Физлицо</dataPath>
				<field>Физлицо</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Физлицо</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ГоловнаяОрганизация</dataPath>
				<field>ГоловнаяОрганизация</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Головная организация</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидДвижения</dataPath>
				<field>ВидДвижения</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Вид движения</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Порядок</dataPath>
				<field>Порядок</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Порядок</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПодразделениеОрганизации</dataPath>
				<field>ПодразделениеОрганизации</field>
			</field>
			<dataSource>ИнформационнаяБаза</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	СуммаОстаток.ПериодРегистрации КАК ПериодРегистрации,
	СуммаОстаток.Физлицо КАК Физлицо,
	СуммаОстаток.Организация КАК Организация,
	ВЫБОР
		КОГДА СуммаОстаток.Результат &lt; 0
			ТОГДА -СуммаОстаток.Результат
		ИНАЧЕ СуммаОстаток.Результат
	КОНЕЦ КАК Результат,
	ВЫБОР
		КОГДА СуммаОстаток.Результат &lt; 0
			ТОГДА "Долг за работниками на начало месяца"
		ИНАЧЕ "Долг за организацией на начало месяца"
	КОНЕЦ КАК ВидРасчета,
	СуммаОстаток.ГоловнаяОрганизация КАК ГоловнаяОрганизация,
	ВЫБОР
		КОГДА СуммаОстаток.Результат &lt; 0
			ТОГДА "А1"
		ИНАЧЕ "А2"
	КОНЕЦ КАК Порядок,
	"5. Сальдо" КАК ВидДвижения,
	СуммаОстаток.ПериодРегистрации КАК ПериодДействия,
	ВЫБОР
		КОГДА РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации = ЗНАЧЕНИЕ(справочник.ПодразделенияОрганизаций.пустаяссылка)
				ИЛИ ЕСТЬNULL(РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации, 1) = 1
			ТОГДА ЕСТЬNULL(ВложенныйЗапрос.ПодразделениеОрганизации, 1)
		ИНАЧЕ РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации
	КОНЕЦ КАК ПодразделениеОрганизации
ИЗ
	(ВЫБРАТЬ
		Периоды.Период КАК ПериодРегистрации,
		Сальдо.Физлицо КАК Физлицо,
		Сальдо.Организация КАК Организация,
		СУММА(Сальдо.СуммаВзаиморасчетовОстаток) КАК Результат,
		ВЫБОР
			КОГДА Сальдо.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
				ТОГДА Сальдо.Организация
			ИНАЧЕ Сальдо.Организация.ГоловнаяОрганизация
		КОНЕЦ КАК ГоловнаяОрганизация
	ИЗ
		(ВЫБРАТЬ РАЗЛИЧНЫЕ
			НАЧАЛОПЕРИОДА(РегламентированныйПроизводственныйКалендарь.ДатаКалендаря, МЕСЯЦ) КАК Период
		ИЗ
			РегистрСведений.РегламентированныйПроизводственныйКалендарь КАК РегламентированныйПроизводственныйКалендарь
		ГДЕ
			РегламентированныйПроизводственныйКалендарь.ДатаКалендаря МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода) КАК Периоды
			ВНУТРЕННЕЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
				ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты.Организация КАК Организация,
				&amp;НачалоПериода КАК Период,
				ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты.Физлицо КАК Физлицо,
				ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты.СуммаВзаиморасчетовОстаток КАК СуммаВзаиморасчетовОстаток
			ИЗ
				РегистрНакопления.ВзаиморасчетыСРаботникамиОрганизаций.Остатки(&amp;НачалоПериода, ) КАК ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты
			
			ОБЪЕДИНИТЬ ВСЕ
			
			ВЫБРАТЬ
				ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты.Организация,
				ДОБАВИТЬКДАТЕ(ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты.Период, МЕСЯЦ, 1),
				ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты.Физлицо,
				ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты.СуммаВзаиморасчетовОборот
			ИЗ
				РегистрНакопления.ВзаиморасчетыСРаботникамиОрганизаций.Обороты(&amp;НачалоПериода, &amp;КонецПериода, Месяц, ) КАК ВзаиморасчетыСРаботникамиОрганизацииОстаткиИОбороты
			
			ОБЪЕДИНИТЬ ВСЕ
			
			ВЫБРАТЬ
				НДФЛКЗачету.Организация,
				&amp;НачалоПериода,
				НДФЛКЗачету.ФизЛицо,
				НДФЛКЗачету.СуммаНДФЛКЗачетуОстаток
			ИЗ
				РегистрНакопления.НДФЛКЗачету.Остатки(&amp;НачалоПериода, ) КАК НДФЛКЗачету
			
			ОБЪЕДИНИТЬ ВСЕ
			
			ВЫБРАТЬ
				НДФЛКЗачету.Организация,
				ДОБАВИТЬКДАТЕ(НДФЛКЗачету.Период, МЕСЯЦ, 1),
				НДФЛКЗачету.ФизЛицо,
				НДФЛКЗачету.СуммаНДФЛКЗачетуОборот
			ИЗ
				РегистрНакопления.НДФЛКЗачету.Обороты(&amp;НачалоПериода, &amp;КонецПериода, Месяц, ) КАК НДФЛКЗачету) КАК Сальдо
			ПО (Сальдо.Период &lt;= Периоды.Период)
	ГДЕ
		(Периоды.Период = &amp;НачалоПериода
				ИЛИ &amp;ЕстьГруппировкаПоПериодуРегисрации)
	
	СГРУППИРОВАТЬ ПО
		Сальдо.Организация,
		Сальдо.Физлицо,
		ВЫБОР
			КОГДА Сальдо.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
				ТОГДА Сальдо.Организация
			ИНАЧЕ Сальдо.Организация.ГоловнаяОрганизация
		КОНЕЦ,
		Периоды.Период) КАК СуммаОстаток
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;КонецПериода, ) КАК РаботникиОрганизацийСрезПоследних
		ПО СуммаОстаток.Физлицо = РаботникиОрганизацийСрезПоследних.Сотрудник.Физлицо
			И СуммаОстаток.Организация = РаботникиОрганизацийСрезПоследних.Организация
		ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
			ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации КАК ПодразделениеОрганизации,
			ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник КАК Сотрудник
		ИЗ
			Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
		ГДЕ
			ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала &lt;= &amp;КонецПериода
			И ДоговорНаВыполнениеРаботСФизЛицом.Проведен
			И ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации &lt;&gt; ЗНАЧЕНИЕ(справочник.ПодразделенияОрганизаций.пустаяссылка)
		
		СГРУППИРОВАТЬ ПО
			ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации,
			ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник) КАК ВложенныйЗапрос
		ПО СуммаОстаток.Физлицо = ВложенныйЗапрос.Сотрудник.Физлицо</query>
		</item>
		<item xsi:type="DataSetQuery">
			<name>КомпенсацияЗаЗадержкуЗП</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>ГоловнаяОрганизация</dataPath>
				<field>ГоловнаяОрганизация</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Головная организация</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Организация</dataPath>
				<field>Организация</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Организация</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодРегистрации</dataPath>
				<field>ПериодРегистрации</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Период регистрации</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:periodNumber>2</dcscom:periodNumber>
					<dcscom:periodType>Main</dcscom:periodType>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Результат</dataPath>
				<field>Результат</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Результат</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ФизЛицо</dataPath>
				<field>ФизЛицо</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Физ лицо</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидДвижения</dataPath>
				<field>ВидДвижения</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Вид движения</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидРасчета</dataPath>
				<field>ВидРасчета</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Вид расчета</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодДействия</dataPath>
				<field>ПериодДействия</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Период действия</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:periodNumber>3</dcscom:periodNumber>
					<dcscom:periodType>Main</dcscom:periodType>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Порядок</dataPath>
				<field>Порядок</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Порядок</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Регистратор</dataPath>
				<field>Регистратор</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Регистратор</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:periodNumber>1</dcscom:periodNumber>
					<dcscom:periodType>Main</dcscom:periodType>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПодразделениеОрганизации</dataPath>
				<field>ПодразделениеОрганизации</field>
			</field>
			<dataSource>ИнформационнаяБаза</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВидыДвижения.ВидДвижения КАК ВидДвижения,
	Взаиморасчеты.Организация КАК Организация,
	ВЫБОР
		КОГДА Взаиморасчеты.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
			ТОГДА Взаиморасчеты.Организация
		ИНАЧЕ Взаиморасчеты.Организация.ГоловнаяОрганизация
	КОНЕЦ КАК ГоловнаяОрганизация,
	НАЧАЛОПЕРИОДА(Взаиморасчеты.Период, МЕСЯЦ) КАК ПериодРегистрации,
	НАЧАЛОПЕРИОДА(Взаиморасчеты.Период, МЕСЯЦ) КАК ПериодДействия,
	Взаиморасчеты.Физлицо КАК ФизЛицо,
	"Компенсация за задержку выплаты заработной платы" КАК ВидРасчета,
	"Я" КАК Порядок,
	СУММА(ЗарплатаКВыплатеОрганизацийЗарплата.КомпенсацияЗаЗадержкуЗарплаты) КАК Результат,
	Взаиморасчеты.Регистратор КАК Регистратор,
	ВЫБОР
		КОГДА РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации = ЗНАЧЕНИЕ(справочник.ПодразделенияОрганизаций.пустаяссылка)
				ИЛИ ЕСТЬNULL(РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации, 1) = 1
			ТОГДА ЕСТЬNULL(ВложенныйЗапрос.ПодразделениеОрганизации, 1)
		ИНАЧЕ РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации
	КОНЕЦ КАК ПодразделениеОрганизации
ИЗ
	РегистрНакопления.ВзаиморасчетыСРаботникамиОрганизаций КАК Взаиморасчеты
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Документ.ЗарплатаКВыплатеОрганизаций.Зарплата КАК ЗарплатаКВыплатеОрганизацийЗарплата
		ПО Взаиморасчеты.Физлицо = ЗарплатаКВыплатеОрганизацийЗарплата.Физлицо
			И Взаиморасчеты.Ведомость = ЗарплатаКВыплатеОрганизацийЗарплата.Ссылка
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций.СрезПоследних КАК РаботникиОрганизацийСрезПоследних
		ПО Взаиморасчеты.Физлицо = РаботникиОрганизацийСрезПоследних.Сотрудник.Физлицо
			И Взаиморасчеты.Организация = РаботникиОрганизацийСрезПоследних.Организация
		ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
			ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации КАК ПодразделениеОрганизации,
			ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник КАК Сотрудник
		ИЗ
			Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
		ГДЕ
			ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала &lt;= &amp;КонецПериода
			И ДоговорНаВыполнениеРаботСФизЛицом.Проведен
			И ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации &lt;&gt; ЗНАЧЕНИЕ(справочник.ПодразделенияОрганизаций.пустаяссылка)
		
		СГРУППИРОВАТЬ ПО
			ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации,
			ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник) КАК ВложенныйЗапрос
		ПО Взаиморасчеты.Физлицо = ВложенныйЗапрос.Сотрудник.Физлицо,
	(ВЫБРАТЬ
		"1. Начислено" КАК ВидДвижения
	
	ОБЪЕДИНИТЬ ВСЕ
	
	ВЫБРАТЬ
		"4. Выплата") КАК ВидыДвижения
ГДЕ
	Взаиморасчеты.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
	И Взаиморасчеты.СуммаВзаиморасчетов &lt;&gt; 0
	И Взаиморасчеты.Период МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
	И ЗарплатаКВыплатеОрганизацийЗарплата.КомпенсацияЗаЗадержкуЗарплаты &lt;&gt; 0

СГРУППИРОВАТЬ ПО
	Взаиморасчеты.Организация,
	Взаиморасчеты.Физлицо,
	НАЧАЛОПЕРИОДА(Взаиморасчеты.Период, МЕСЯЦ),
	ВидыДвижения.ВидДвижения,
	Взаиморасчеты.Регистратор,
	ВЫБОР
		КОГДА Взаиморасчеты.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
			ТОГДА Взаиморасчеты.Организация
		ИНАЧЕ Взаиморасчеты.Организация.ГоловнаяОрганизация
	КОНЕЦ,
	ВЫБОР
		КОГДА РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации = ЗНАЧЕНИЕ(справочник.ПодразделенияОрганизаций.пустаяссылка)
				ИЛИ ЕСТЬNULL(РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации, 1) = 1
			ТОГДА ЕСТЬNULL(ВложенныйЗапрос.ПодразделениеОрганизации, 1)
		ИНАЧЕ РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации
	КОНЕЦ,
	НАЧАЛОПЕРИОДА(Взаиморасчеты.Период, МЕСЯЦ)</query>
		</item>
		<item xsi:type="DataSetQuery">
			<name>ПенисонныйФонд</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидДвижения</dataPath>
				<field>ВидДвижения</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Вид движения</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидРасчета</dataPath>
				<field>ВидРасчета</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Вид расчета</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ГоловнаяОрганизация</dataPath>
				<field>ГоловнаяОрганизация</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Головная организация</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОплаченоДней</dataPath>
				<field>ОплаченоДней</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Оплачено дней</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОплаченоЧасов</dataPath>
				<field>ОплаченоЧасов</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Оплачено часов</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Организация</dataPath>
				<field>Организация</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Организация</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОтработаноДней</dataPath>
				<field>ОтработаноДней</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Отработано дней</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОтработаноЧасов</dataPath>
				<field>ОтработаноЧасов</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Отработано часов</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодДействия</dataPath>
				<field>ПериодДействия</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Период действия</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодРегистрации</dataPath>
				<field>ПериодРегистрации</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Период регистрации</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:periodNumber>2</dcscom:periodNumber>
					<dcscom:periodType>Main</dcscom:periodType>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Порядок</dataPath>
				<field>Порядок</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Порядок</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Регистратор</dataPath>
				<field>Регистратор</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Регистратор</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:periodNumber>1</dcscom:periodNumber>
					<dcscom:periodType>Main</dcscom:periodType>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Результат</dataPath>
				<field>Результат</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Результат</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ФизЛицо</dataPath>
				<field>ФизЛицо</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Физ лицо</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПодразделениеОрганизации</dataPath>
				<field>ПодразделениеОрганизации</field>
			</field>
			<dataSource>ИнформационнаяБаза</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	"3. Удержано" КАК ВидДвижения,
	ЕСНИсчисленный.ФизЛицо КАК ФизЛицо,
	ЕСНИсчисленный.ОбособленноеПодразделение КАК Организация,
	ЕСНИсчисленный.Организация КАК ГоловнаяОрганизация,
	НАЧАЛОПЕРИОДА(ЕСНИсчисленный.Период, МЕСЯЦ) КАК ПериодРегистрации,
	"Пенсионный фонд исчисленный" КАК ВидРасчета,
	NULL КАК ОтработаноДней,
	NULL КАК ОтработаноЧасов,
	NULL КАК ОплаченоДней,
	NULL КАК ОплаченоЧасов,
	ЕСНИсчисленный.ПенсионныйФонд КАК Результат,
	НАЧАЛОПЕРИОДА(ЕСНИсчисленный.ПериодВзаиморасчетов, МЕСЯЦ) КАК ПериодДействия,
	"А" КАК Порядок,
	ЕСНИсчисленный.Регистратор КАК Регистратор,
	ВЫБОР
		КОГДА РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации = ЗНАЧЕНИЕ(справочник.ПодразделенияОрганизаций.пустаяссылка)
				ИЛИ ЕСТЬNULL(РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации, 1) = 1
			ТОГДА ЕСТЬNULL(ВложенныйЗапрос.ПодразделениеОрганизации, 1)
		ИНАЧЕ РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации
	КОНЕЦ КАК ПодразделениеОрганизации
{ВЫБРАТЬ
	ВидДвижения,
	ФизЛицо.*,
	Организация.*,
	ГоловнаяОрганизация.*,
	ПериодРегистрации,
	ВидРасчета,
	ОтработаноДней,
	ОтработаноЧасов,
	ОплаченоДней,
	Результат,
	ОплаченоЧасов,
	ПериодДействия,
	Порядок,
	Регистратор.*}
ИЗ
	РегистрНакопления.ЕСНИсчисленный КАК ЕСНИсчисленный
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций.СрезПоследних КАК РаботникиОрганизацийСрезПоследних
		ПО ЕСНИсчисленный.ФизЛицо = РаботникиОрганизацийСрезПоследних.Сотрудник.Физлицо
			И ЕСНИсчисленный.Организация = РаботникиОрганизацийСрезПоследних.Организация
		ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
			ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации КАК ПодразделениеОрганизации,
			ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник КАК Сотрудник
		ИЗ
			Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
		ГДЕ
			ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала &lt;= &amp;КонецПериода
			И ДоговорНаВыполнениеРаботСФизЛицом.Проведен
			И ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации &lt;&gt; ЗНАЧЕНИЕ(справочник.ПодразделенияОрганизаций.пустаяссылка)
		
		СГРУППИРОВАТЬ ПО
			ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации,
			ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник) КАК ВложенныйЗапрос
		ПО ЕСНИсчисленный.ФизЛицо = ВложенныйЗапрос.Сотрудник.Физлицо
ГДЕ
	ЕСНИсчисленный.Период МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
	И ЕСНИсчисленный.ПенсионныйФонд &lt;&gt; 0
{ГДЕ
	ЕСНИсчисленный.ФизЛицо.*,
	ЕСНИсчисленный.Организация.* КАК ГоловнаяОрганизация}</query>
		</item>
	</dataSet>
	<dataSetLink>
		<sourceDataSet>РаботникиОрганизации</sourceDataSet>
		<destinationDataSet>ВидыНачисленияУдержаний</destinationDataSet>
		<sourceExpression>ФизЛицо</sourceExpression>
		<destinationExpression>ФизЛицо</destinationExpression>
	</dataSetLink>
	<dataSetLink>
		<sourceDataSet>РаботникиОрганизации</sourceDataSet>
		<destinationDataSet>ВидыНачисленияУдержаний</destinationDataSet>
		<sourceExpression>ПериодРегистрации</sourceExpression>
		<destinationExpression>ПериодРегистрации</destinationExpression>
	</dataSetLink>
	<dataSetLink>
		<sourceDataSet>РаботникиОрганизации</sourceDataSet>
		<destinationDataSet>ВидыНачисленияУдержаний</destinationDataSet>
		<sourceExpression>ГоловнаяОрганизация</sourceExpression>
		<destinationExpression>ГоловнаяОрганизация</destinationExpression>
	</dataSetLink>
	<dataSetLink>
		<sourceDataSet>РаботникиОрганизации</sourceDataSet>
		<destinationDataSet>ВидыНачисленияУдержаний</destinationDataSet>
		<sourceExpression>ПодразделениеОрганизации</sourceExpression>
		<destinationExpression>ПодразделениеОрганизации</destinationExpression>
	</dataSetLink>
	<calculatedField>
		<dataPath>НадписьПериодаРегистрации</dataPath>
		<expression>"Месяц начисления: " + Формат(ПериодРегистрации, "ДФ = 'MMMM yyyy'")</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Надпись периода регистрации</v8:content>
			</v8:item>
		</title>
		<useRestriction>
			<field>true</field>
			<condition>true</condition>
			<group>true</group>
			<order>true</order>
		</useRestriction>
	</calculatedField>
	<calculatedField>
		<dataPath>НадписьОрганизация</dataPath>
		<expression>"Организация : " + Строка(Организация)</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Надпись организация</v8:content>
			</v8:item>
		</title>
		<useRestriction>
			<field>true</field>
			<condition>true</condition>
			<group>true</group>
			<order>true</order>
		</useRestriction>
	</calculatedField>
	<calculatedField>
		<dataPath>НадписьПериодДействия</dataPath>
		<expression>"Месяц, за который платят: " + Формат(ПериодДействия, "ДФ='MMMM yyyy'")</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Надпись период действия</v8:content>
			</v8:item>
		</title>
		<useRestriction>
			<field>true</field>
			<condition>true</condition>
			<group>true</group>
			<order>true</order>
		</useRestriction>
	</calculatedField>
	<calculatedField>
		<dataPath>НадписьПодразделение</dataPath>
		<expression>"Подразделение : " + Строка(ПодразделениеОрганизации)</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Надпись подразделение</v8:content>
			</v8:item>
		</title>
		<useRestriction>
			<field>true</field>
			<condition>true</condition>
			<group>true</group>
			<order>true</order>
		</useRestriction>
	</calculatedField>
	<calculatedField>
		<dataPath>РезультатОтр</dataPath>
		<expression>-Результат</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Отр</v8:content>
			</v8:item>
		</title>
		<useRestriction>
			<field>true</field>
			<condition>true</condition>
			<group>true</group>
			<order>true</order>
		</useRestriction>
	</calculatedField>
	<calculatedField>
		<dataPath>РезультатНоль</dataPath>
		<expression>0</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Результат ноль</v8:content>
			</v8:item>
		</title>
		<useRestriction>
			<field>true</field>
			<condition>true</condition>
			<group>true</group>
			<order>true</order>
		</useRestriction>
	</calculatedField>
	<totalField>
		<dataPath>ОплаченоДней</dataPath>
		<expression>Сумма(ОплаченоДней)</expression>
	</totalField>
	<totalField>
		<dataPath>ОплаченоЧасов</dataPath>
		<expression>Сумма(ОплаченоЧасов)</expression>
	</totalField>
	<totalField>
		<dataPath>ОтработаноДней</dataPath>
		<expression>Сумма(ОтработаноДней)</expression>
	</totalField>
	<totalField>
		<dataPath>ОтработаноЧасов</dataPath>
		<expression>Сумма(ОтработаноЧасов)</expression>
	</totalField>
	<totalField>
		<dataPath>Результат</dataPath>
		<expression>Сумма(Результат)</expression>
	</totalField>
	<totalField>
		<dataPath>РезультатОтр</dataPath>
		<expression>Сумма(РезультатОтр)</expression>
	</totalField>
	<totalField>
		<dataPath>РезультатНоль</dataPath>
		<expression>Сумма(РезультатНоль)</expression>
	</totalField>
	<totalField>
		<dataPath>Порядок</dataPath>
		<expression>МАКСИМУМ(Порядок)</expression>
	</totalField>
	<parameter>
		<name>КонецПериода</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Конец периода</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>false</useRestriction>
		<availableAsField>false</availableAsField>
	</parameter>
	<parameter>
		<name>НачалоПериода</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Начало периода</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>false</useRestriction>
		<availableAsField>false</availableAsField>
	</parameter>
	<parameter>
		<name>Период</name>
		<title xsi:type="xs:string">Период</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:nil="true"/>
		<useRestriction>true</useRestriction>
		<availableAsField>false</availableAsField>
	</parameter>
	<parameter>
		<name>ЕстьГруппировкаПоПериодуРегисрации</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Есть группировка по месяцу начисления</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:boolean</v8:Type>
		</valueType>
		<value xsi:nil="true"/>
		<useRestriction>false</useRestriction>
		<availableAsField>false</availableAsField>
	</parameter>
	<settingsVariant>
		<dcsset:name>Основной</dcsset:name>
		<dcsset:presentation xsi:type="xs:string">Основной</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:selection>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Результат</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ОплаченоДней</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ОплаченоЧасов</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ОтработаноДней</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ОтработаноЧасов</dcsset:field>
				</dcsset:item>
			</dcsset:selection>
			<dcsset:filter>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Организация</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.Организации.</dcsset:right>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">ПодразделениеОрганизации</dcsset:left>
					<dcsset:comparisonType>InHierarchy</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.ПодразделенияОрганизаций.</dcsset:right>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Сотрудник</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.СотрудникиОрганизаций.</dcsset:right>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Сотрудник.ВидДоговора</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:viewMode>Normal</dcsset:viewMode>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Должность</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:viewMode>Normal</dcsset:viewMode>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Должность.КатегорияСтатистическогоУчета</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:viewMode>Normal</dcsset:viewMode>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">ТабельныйНомерНачало</dcsset:left>
					<dcsset:comparisonType>GreaterOrEqual</dcsset:comparisonType>
					<dcsset:right xsi:type="xs:decimal">0</dcsset:right>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">ТабельныйНомерКонец</dcsset:left>
					<dcsset:comparisonType>LessOrEqual</dcsset:comparisonType>
					<dcsset:right xsi:type="xs:decimal">0</dcsset:right>
				</dcsset:item>
			</dcsset:filter>
			<dcsset:dataParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>КонецПериода</dcscor:parameter>
					<dcscor:value xsi:type="xs:dateTime">0001-01-01T00:00:00</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>НачалоПериода</dcscor:parameter>
					<dcscor:value xsi:type="xs:dateTime">0001-01-01T00:00:00</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ЕстьГруппировкаПоПериодуРегисрации</dcscor:parameter>
					<dcscor:value xsi:type="xs:boolean">false</dcscor:value>
				</dcscor:item>
			</dcsset:dataParameters>
			<dcsset:order>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>ПериодРегистрации</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>Организация</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>ПодразделениеОрганизации</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>ВидДвижения</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>ВидРасчета</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>ПериодДействия</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>Регистратор</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
			</dcsset:order>
			<dcsset:conditionalAppearance>
				<dcsset:item>
					<dcsset:selection>
						<dcsset:item>
							<dcsset:field>ПериодРегистрации</dcsset:field>
						</dcsset:item>
					</dcsset:selection>
					<dcsset:filter/>
					<dcsset:appearance>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>Шрифт</dcscor:parameter>
							<dcscor:value xsi:type="v8ui:Font" ref="sys:DefaultGUIFont" faceName="Verdana" height="9" bold="true" italic="false" underline="false" strikeout="false" kind="WindowsFont"/>
						</dcscor:item>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:use>false</dcscor:use>
							<dcscor:parameter>Формат</dcscor:parameter>
							<dcscor:value xsi:type="xs:string">ДФ='MMMM yyyy'</dcscor:value>
						</dcscor:item>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>Текст</dcscor:parameter>
							<dcscor:value xsi:type="dcscor:Field">НадписьПериодаРегистрации</dcscor:value>
						</dcscor:item>
					</dcsset:appearance>
				</dcsset:item>
				<dcsset:item>
					<dcsset:selection/>
					<dcsset:filter/>
					<dcsset:appearance>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>Шрифт</dcscor:parameter>
							<dcscor:value xsi:type="v8ui:Font" ref="sys:DefaultGUIFont" faceName="Verdana" height="9" bold="true" italic="false" underline="false" strikeout="false" kind="WindowsFont"/>
						</dcscor:item>
					</dcsset:appearance>
				</dcsset:item>
				<dcsset:item>
					<dcsset:selection>
						<dcsset:item>
							<dcsset:field>ОплаченоДней</dcsset:field>
						</dcsset:item>
						<dcsset:item>
							<dcsset:field>ОплаченоЧасов</dcsset:field>
						</dcsset:item>
						<dcsset:item>
							<dcsset:field>ОтработаноДней</dcsset:field>
						</dcsset:item>
						<dcsset:item>
							<dcsset:field>ОтработаноЧасов</dcsset:field>
						</dcsset:item>
					</dcsset:selection>
					<dcsset:filter/>
					<dcsset:appearance>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>Шрифт</dcscor:parameter>
							<dcscor:value xsi:type="v8ui:Font" ref="sys:DefaultGUIFont" faceName="Verdana" height="8" bold="false" italic="false" underline="false" strikeout="false" kind="WindowsFont"/>
						</dcscor:item>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>Формат</dcscor:parameter>
							<dcscor:value xsi:type="xs:string">ЧЦ=15</dcscor:value>
						</dcscor:item>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>МинимальнаяШирина</dcscor:parameter>
							<dcscor:value xsi:type="xs:decimal">15</dcscor:value>
						</dcscor:item>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>МаксимальнаяШирина</dcscor:parameter>
							<dcscor:value xsi:type="xs:decimal">15</dcscor:value>
						</dcscor:item>
					</dcsset:appearance>
				</dcsset:item>
				<dcsset:item>
					<dcsset:selection>
						<dcsset:item>
							<dcsset:field>Организация</dcsset:field>
						</dcsset:item>
					</dcsset:selection>
					<dcsset:filter/>
					<dcsset:appearance>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>Текст</dcscor:parameter>
							<dcscor:value xsi:type="dcscor:Field">НадписьОрганизация</dcscor:value>
						</dcscor:item>
					</dcsset:appearance>
				</dcsset:item>
				<dcsset:item>
					<dcsset:selection>
						<dcsset:item>
							<dcsset:field>ПериодРегистрации</dcsset:field>
						</dcsset:item>
					</dcsset:selection>
					<dcsset:filter/>
					<dcsset:appearance>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>Текст</dcscor:parameter>
							<dcscor:value xsi:type="dcscor:Field">НадписьПериодаРегистрации</dcscor:value>
						</dcscor:item>
					</dcsset:appearance>
				</dcsset:item>
				<dcsset:item>
					<dcsset:selection>
						<dcsset:item>
							<dcsset:field>ПериодДействия</dcsset:field>
						</dcsset:item>
					</dcsset:selection>
					<dcsset:filter/>
					<dcsset:appearance>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>Текст</dcscor:parameter>
							<dcscor:value xsi:type="dcscor:Field">НадписьПериодДействия</dcscor:value>
						</dcscor:item>
					</dcsset:appearance>
				</dcsset:item>
				<dcsset:item>
					<dcsset:selection>
						<dcsset:item>
							<dcsset:field>ПодразделениеОрганизации</dcsset:field>
						</dcsset:item>
					</dcsset:selection>
					<dcsset:filter/>
					<dcsset:appearance>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>Текст</dcscor:parameter>
							<dcscor:value xsi:type="dcscor:Field">НадписьПодразделение</dcscor:value>
						</dcscor:item>
					</dcsset:appearance>
				</dcsset:item>
				<dcsset:item>
					<dcsset:selection>
						<dcsset:item>
							<dcsset:field>ВидРасчета</dcsset:field>
						</dcsset:item>
						<dcsset:item>
							<dcsset:field>Регистратор</dcsset:field>
						</dcsset:item>
						<dcsset:item>
							<dcsset:field>ФизЛицо</dcsset:field>
						</dcsset:item>
					</dcsset:selection>
					<dcsset:filter/>
					<dcsset:appearance>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>Шрифт</dcscor:parameter>
							<dcscor:value xsi:type="v8ui:Font" ref="sys:DefaultGUIFont" faceName="Verdana" height="8" bold="false" italic="false" underline="false" strikeout="false" kind="WindowsFont"/>
						</dcscor:item>
					</dcsset:appearance>
				</dcsset:item>
				<dcsset:item>
					<dcsset:selection>
						<dcsset:item>
							<dcsset:field>Результат</dcsset:field>
						</dcsset:item>
					</dcsset:selection>
					<dcsset:filter/>
					<dcsset:appearance>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>Шрифт</dcscor:parameter>
							<dcscor:value xsi:type="v8ui:Font" ref="sys:DefaultGUIFont" faceName="Verdana" height="8" bold="false" italic="false" underline="false" strikeout="false" kind="WindowsFont"/>
						</dcscor:item>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>Формат</dcscor:parameter>
							<dcscor:value xsi:type="xs:string">ЧЦ=15; ЧДЦ=2</dcscor:value>
						</dcscor:item>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>МинимальнаяШирина</dcscor:parameter>
							<dcscor:value xsi:type="xs:decimal">15</dcscor:value>
						</dcscor:item>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>МаксимальнаяШирина</dcscor:parameter>
							<dcscor:value xsi:type="xs:decimal">15</dcscor:value>
						</dcscor:item>
					</dcsset:appearance>
				</dcsset:item>
				<dcsset:item>
					<dcsset:selection>
						<dcsset:item>
							<dcsset:field>Результат</dcsset:field>
						</dcsset:item>
					</dcsset:selection>
					<dcsset:filter>
						<dcsset:item xsi:type="dcsset:FilterItemComparison">
							<dcsset:left xsi:type="dcscor:Field">Результат</dcsset:left>
							<dcsset:comparisonType>Less</dcsset:comparisonType>
							<dcsset:right xsi:type="xs:decimal">0</dcsset:right>
						</dcsset:item>
						<dcsset:item xsi:type="dcsset:FilterItemComparison">
							<dcsset:left xsi:type="dcscor:Field">ВидРасчета</dcsset:left>
							<dcsset:comparisonType>Contains</dcsset:comparisonType>
							<dcsset:right xsi:type="xs:string">Возврат</dcsset:right>
						</dcsset:item>
					</dcsset:filter>
					<dcsset:appearance>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>Текст</dcscor:parameter>
							<dcscor:value xsi:type="dcscor:Field">РезультатОтр</dcscor:value>
						</dcscor:item>
					</dcsset:appearance>
				</dcsset:item>
			</dcsset:conditionalAppearance>
			<dcsset:outputParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>РасположениеИтогов</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">Begin</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>РасположениеПолейГруппировки</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionGroupFieldsPlacement">Together</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>ГоризонтальноеРасположениеОбщихИтогов</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">None</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВертикальноеРасположениеОбщихИтогов</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">None</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>ТипЗаголовкаПолей</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DataCompositionFieldsTitleType">Short</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьЗаголовок</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">Output</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>Заголовок</dcscor:parameter>
					<dcscor:value xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Свод начислений и удержаний по организации</v8:content>
						</v8:item>
					</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьПараметрыДанных</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">DontOutput</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьОтбор</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">DontOutput</dcscor:value>
				</dcscor:item>
			</dcsset:outputParameters>
			<dcsset:item xsi:type="dcsset:StructureItemGroup">
				<dcsset:groupItems>
					<dcsset:item xsi:type="dcsset:GroupItemField">
						<dcsset:field>ПериодРегистрации</dcsset:field>
						<dcsset:groupType>Items</dcsset:groupType>
						<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
						<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
						<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
					</dcsset:item>
				</dcsset:groupItems>
				<dcsset:order>
					<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
				</dcsset:order>
				<dcsset:selection>
					<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
				</dcsset:selection>
				<dcsset:outputParameters>
					<dcscor:item xsi:type="dcsset:SettingsParameterValue">
						<dcscor:use>false</dcscor:use>
						<dcscor:parameter>ТипМакета</dcscor:parameter>
						<dcscor:value xsi:type="dcsset:DataCompositionGroupTemplateType">Vertical</dcscor:value>
					</dcscor:item>
				</dcsset:outputParameters>
				<dcsset:item xsi:type="dcsset:StructureItemGroup">
					<dcsset:groupItems>
						<dcsset:item xsi:type="dcsset:GroupItemField">
							<dcsset:field>Организация</dcsset:field>
							<dcsset:groupType>Items</dcsset:groupType>
							<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
							<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
							<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
						</dcsset:item>
					</dcsset:groupItems>
					<dcsset:order>
						<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
					</dcsset:order>
					<dcsset:selection>
						<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
					</dcsset:selection>
					<dcsset:outputParameters>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:use>false</dcscor:use>
							<dcscor:parameter>ТипМакета</dcscor:parameter>
							<dcscor:value xsi:type="dcsset:DataCompositionGroupTemplateType">Horizontal</dcscor:value>
						</dcscor:item>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:use>false</dcscor:use>
							<dcscor:parameter>ТипЗаголовкаПолей</dcscor:parameter>
							<dcscor:value xsi:type="dcscor:DataCompositionFieldsTitleType">Short</dcscor:value>
						</dcscor:item>
					</dcsset:outputParameters>
					<dcsset:item xsi:type="dcsset:StructureItemGroup">
						<dcsset:name>ОсновнаяГруппировка</dcsset:name>
						<dcsset:groupItems>
							<dcsset:item xsi:type="dcsset:GroupItemField">
								<dcsset:field>ВидДвижения</dcsset:field>
								<dcsset:groupType>Items</dcsset:groupType>
								<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
								<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
								<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
							</dcsset:item>
						</dcsset:groupItems>
						<dcsset:order>
							<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
						</dcsset:order>
						<dcsset:selection>
							<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
						</dcsset:selection>
						<dcsset:outputParameters>
							<dcscor:item xsi:type="dcsset:SettingsParameterValue">
								<dcscor:use>false</dcscor:use>
								<dcscor:parameter>ВыводитьЗаголовок</dcscor:parameter>
								<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">DontOutput</dcscor:value>
							</dcscor:item>
							<dcscor:item xsi:type="dcsset:SettingsParameterValue">
								<dcscor:use>false</dcscor:use>
								<dcscor:parameter>ВыводитьОтбор</dcscor:parameter>
								<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">DontOutput</dcscor:value>
							</dcscor:item>
						</dcsset:outputParameters>
						<dcsset:item xsi:type="dcsset:StructureItemGroup">
							<dcsset:groupItems>
								<dcsset:item xsi:type="dcsset:GroupItemField">
									<dcsset:field>ВидРасчета</dcsset:field>
									<dcsset:groupType>Items</dcsset:groupType>
									<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
									<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
									<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
								</dcsset:item>
							</dcsset:groupItems>
							<dcsset:selection>
								<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
							</dcsset:selection>
							<dcsset:outputParameters>
								<dcscor:item xsi:type="dcsset:SettingsParameterValue">
									<dcscor:use>false</dcscor:use>
									<dcscor:parameter>ТипЗаголовкаПолей</dcscor:parameter>
									<dcscor:value xsi:type="dcscor:DataCompositionFieldsTitleType">Short</dcscor:value>
								</dcscor:item>
							</dcsset:outputParameters>
						</dcsset:item>
					</dcsset:item>
				</dcsset:item>
			</dcsset:item>
		</dcsset:settings>
	</settingsVariant>
</DataCompositionSchema>